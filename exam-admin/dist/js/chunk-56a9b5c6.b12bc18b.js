(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56a9b5c6"],{"59b1":function(e,r,t){"use strict";t("74b4")},"73cf":function(e,r,t){"use strict";t.r(r);t("b0c0");var n=t("7a23"),o=Object(n["withScopeId"])("data-v-7292e078");Object(n["pushScopeId"])("data-v-7292e078");var a={style:{width:"100%",height:"100vh",overflow:"hidden"},class:"login"},c={style:{width:"400px",margin:"0px auto"}},l=Object(n["createVNode"])("div",{style:{color:"#cccccc","font-size":"30px","text-align":"center",padding:"30px 0"}},"注册",-1),i=Object(n["createTextVNode"])("注册"),u=Object(n["createTextVNode"])("重置"),d=Object(n["createTextVNode"])("已有账号?去登录");Object(n["popScopeId"])();var s=o((function(e,r,t,s,m,p){var f=Object(n["resolveComponent"])("Verify"),b=Object(n["resolveComponent"])("el-input"),g=Object(n["resolveComponent"])("el-form-item"),h=Object(n["resolveComponent"])("elui-china-area-dht"),V=Object(n["resolveComponent"])("el-col"),j=Object(n["resolveComponent"])("el-row"),O=Object(n["resolveComponent"])("el-option"),y=Object(n["resolveComponent"])("el-select"),N=Object(n["resolveComponent"])("el-button"),v=Object(n["resolveComponent"])("el-form");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])(f,{mode:"pop",onSuccess:p.success,captchaType:"blockPuzzle",imgSize:{width:"400px",height:"200px"},ref:"verify"},null,8,["onSuccess"]),Object(n["createVNode"])("div",a,[Object(n["createVNode"])("div",c,[l,Object(n["createVNode"])(v,{ref:"ruleForm",model:m.ruleForm,rules:m.rules},{default:o((function(){return[Object(n["createVNode"])(g,{prop:"name"},{default:o((function(){return[Object(n["createVNode"])(b,{"prefix-icon":"iconfont icon-nicheng",modelValue:m.ruleForm.name,"onUpdate:modelValue":r[1]||(r[1]=function(e){return m.ruleForm.name=e}),placeholder:"请输入昵称"},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(g,{prop:"nickName"},{default:o((function(){return[Object(n["createVNode"])(b,{"prefix-icon":"iconfont icon-yonghu",modelValue:m.ruleForm.nickName,"onUpdate:modelValue":r[2]||(r[2]=function(e){return m.ruleForm.nickName=e}),placeholder:"请输入真实姓名"},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(g,{prop:"age"},{default:o((function(){return[Object(n["createVNode"])(b,{"prefix-icon":"iconfont icon-nianling",modelValue:m.ruleForm.age,"onUpdate:modelValue":r[3]||(r[3]=function(e){return m.ruleForm.age=e}),placeholder:"请输入年龄"},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(g,{prop:"address"},{default:o((function(){return[Object(n["createVNode"])(j,{gutter:20},{default:o((function(){return[Object(n["createVNode"])(V,{span:13,style:{"margin-right":"-19px"}},{default:o((function(){return[Object(n["createVNode"])(h,{onChange:p.onChange,modelValue:e.value,"onUpdate:modelValue":r[4]||(r[4]=function(r){return e.value=r})},null,8,["onChange","modelValue"])]})),_:1}),Object(n["createVNode"])(V,{span:11},{default:o((function(){return[Object(n["createVNode"])(b,{style:{width:"193px"},"prefix-icon":"iconfont icon-dizhi",modelValue:m.ruleForm.address,"onUpdate:modelValue":r[5]||(r[5]=function(e){return m.ruleForm.address=e}),placeholder:"请输入家庭地址"},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),Object(n["createVNode"])(g,{prop:"sex"},{default:o((function(){return[Object(n["createVNode"])(y,{"prefix-icon":"iconfont icon-nianling",modelValue:m.ruleForm.sex,"onUpdate:modelValue":r[6]||(r[6]=function(e){return m.ruleForm.sex=e}),placeholder:"请选择性别",style:{width:"100%"}},{default:o((function(){return[Object(n["createVNode"])(O,{label:"男",value:"1"}),Object(n["createVNode"])(O,{label:"女",value:"2"})]})),_:1},8,["modelValue"])]})),_:1}),Object(n["createVNode"])(g,{prop:"phone"},{default:o((function(){return[Object(n["createVNode"])(b,{"prefix-icon":"iconfont icon-shoujihao",modelValue:m.ruleForm.phone,"onUpdate:modelValue":r[7]||(r[7]=function(e){return m.ruleForm.phone=e}),placeholder:"请输入手机号"},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(g,{prop:"password"},{default:o((function(){return[Object(n["createVNode"])(b,{"prefix-icon":"iconfont icon-mima",modelValue:m.ruleForm.password,"onUpdate:modelValue":r[8]||(r[8]=function(e){return m.ruleForm.password=e}),"show-password":"",placeholder:"请输入密码"},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(g,{prop:"yzm"},{default:o((function(){return[Object(n["createVNode"])(b,{"prefix-icon":"iconfont icon-duanxin",modelValue:m.ruleForm.yzm,"onUpdate:modelValue":r[10]||(r[10]=function(e){return m.ruleForm.yzm=e}),placeholder:"6位短信验证码"},{append:o((function(){return[Object(n["createVNode"])(N,{onClick:r[9]||(r[9]=function(e){return p.onShow()}),disabled:m.disabled},{default:o((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(m.yzmBtn),1)]})),_:1},8,["disabled"])]})),_:1},8,["modelValue"])]})),_:1}),Object(n["createVNode"])(g,null,{default:o((function(){return[Object(n["createVNode"])(N,{style:{width:"49%"},type:"primary",onClick:r[11]||(r[11]=function(e){return p.register()})},{default:o((function(){return[i]})),_:1}),Object(n["createVNode"])(N,{style:{width:"48%"},onClick:r[12]||(r[12]=function(e){return p.resetForm("ruleForm")})},{default:o((function(){return[u]})),_:1}),Object(n["createVNode"])(N,{onClick:r[13]||(r[13]=function(e){return p.login()}),type:"text"},{default:o((function(){return[d]})),_:1})]})),_:1})]})),_:1},8,["model","rules"])])])],64)})),m=(t("d3b7"),t("3ca3"),t("ddb0"),t("2b3d"),t("5d39")),p=t("7864"),f=t("bc3a"),b=t.n(f),g=t("b775"),h=t("79e5"),V=(new h["EluiChinaAreaDht"].ChinaArea).chinaAreaflat,j={name:"register",components:{Verify:m["a"],EluiChinaAreaDht:h["EluiChinaAreaDht"]},data:function(){return{ruleForm:{phone:"",password:"",yzm:"",name:"",nickName:"",age:"",sex:"",address:""},city:"",rules:{phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"手机号格式错误"}],yzm:[{required:!0,message:"请输入验证码",trigger:"blur"},{min:6,max:6,message:"请输入6位字符验证码",trigger:"blur"}],nickName:[{required:!0,message:"请输入真实姓名",trigger:"blur"},{min:2,max:18,message:"请输入2-10位字符",trigger:"blur"}],name:[{required:!0,message:"请输入昵称",trigger:"blur"},{min:2,max:18,message:"请输入2-18位字符",trigger:"blur"}],age:[{required:!0,message:"请输入年龄",trigger:"blur"},{pattern:/^(?:[1-9][0-9]?|1[01][0-9]|120)$/,message:"年龄输入不合法"}],address:[{required:!0,message:"请输入家庭地址",trigger:"blur"},{min:2,max:50,message:"请输入5-50位字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^(?![a-zA-Z]+$)(?![0-9]+$)(?![._~!@#$^&*]+$)(?![0-9a-zA-Z]+$)(?![0-9._~!@#$^&*]+$)(?![a-zA-Z._~!@#$^&*]+$)[A-Za-z0-9._~!@#$^&*]{6,20}$/,message:"密码必须由字母、数字、特殊符号组成6-20位字符，区分大小写"}]},msg:"",flag:!1,yzmBtn:"获取短信验证码",disabled:!1,addr:""}},methods:{register:function(){var e=this;this.addr=this.ruleForm.address,this.$refs["ruleForm"].validate((function(r){if(r){e.ruleForm.address=e.city+"|"+e.ruleForm.address;var t={name:e.$encryption(e.ruleForm.name),nickName:e.$encryption(e.ruleForm.nickName),age:e.$encryption(e.ruleForm.age),address:e.$encryption(e.ruleForm.address),sex:e.$encryption(e.ruleForm.sex),phone:e.$encryption(e.ruleForm.phone),password:e.$encryption(e.ruleForm.password),code:e.$encryption(e.ruleForm.yzm)};g["a"].post("/user/register",t).then((function(r){200==r.code?(p["b"].success({message:"注册成功,请登录！",type:"success"}),e.login()):(p["b"].warning({message:r.msg,type:"warning"}),e.ruleForm.address=e.addr)})).catch((function(e){p["b"].error("系统异常,注册失败！")}))}}))},resetForm:function(e){this.$refs[e].resetFields()},login:function(){this.$router.push("/login")},onShow:function(){var e=this;""!==this.city?this.$refs["ruleForm"].validateField(["phone","password","name","age","nickName","address"],(function(r){r||e.$refs.verify.show()})):p["b"].warning({message:"地址未选择!",type:"warning"})},tackBtn:function(){var e=this,r=60,t=setInterval((function(){0==r?(clearInterval(t),e.yzmBtn="重新获取验证码",e.disabled=!1):(e.disabled=!0,e.yzmBtn=r+"秒后重试",r--)}),1e3)},success:function(e){var r=this;if(""!==this.city){var t=new URLSearchParams;t.append("captchaVerification",e.captchaVerification),t.append("phone",this.$encryption(this.ruleForm.phone)),b.a.post("api/captcha/sendMsg",t).then((function(e){200==e.data.code?(r.tackBtn(),p["b"].success({message:"短信发送成功,请注意查收！",type:"success"})):p["b"].warning({message:e.msg,type:"warning"})})).catch((function(e){p["b"].error("系统异常,发送失败！")}))}else p["b"].warning({message:"地址未选择!",type:"warning"})},onChange:function(e){var r=V[e[0]].value,t=V[e[1]].value,n=V[e[2]].value;this.city=r+","+t+","+n}}},O=(t("59b1"),t("6b0d")),y=t.n(O);const N=y()(j,[["render",s],["__scopeId","data-v-7292e078"]]);r["default"]=N},"74b4":function(e,r,t){}}]);
//# sourceMappingURL=chunk-56a9b5c6.b12bc18b.js.map