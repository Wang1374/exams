(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-25c2b5dd"],{"2a10":function(e,t,o){"use strict";o("c0b5")},c0b5:function(e,t,o){},db55:function(e,t,o){"use strict";o.r(t);var n=o("7a23"),c=Object(n["withScopeId"])("data-v-2d8e9f42");Object(n["pushScopeId"])("data-v-2d8e9f42");var i={ref:"editorContainer"},a={class:"dialog-footer"},r=Object(n["createTextVNode"])("确 定"),l=Object(n["createTextVNode"])("清除"),s={class:"title"},d=Object(n["createTextVNode"])(" 试卷名称: "),u=Object(n["createTextVNode"])(" 试卷类型: "),p=Object(n["createTextVNode"])(" 是否发布: "),b={class:"test-info"},j={class:"test-info"},O=Object(n["createTextVNode"])(" 答题时间: "),f=Object(n["createTextVNode"])(" 分钟 "),m={class:"test-info"},V={class:"test-info"},h={class:"test-info"},k=Object(n["createTextVNode"])(" 及格分数: "),v=Object(n["createTextVNode"])(" 分 "),y={style:{"list-style-type":"none"}},N=Object(n["createTextVNode"])("保存试卷"),g=Object(n["createTextVNode"])("重置试卷"),x={class:"topics"},w={key:0,class:"topicsType"},B={class:"bigQuestionName"},T={class:"allScore"},_={class:"question"},C={class:"question_nunber"},S={key:0},I={key:1},D={key:0,class:"userAnswer"},E={class:"radios"},U={class:"topicNavIndex"},F={key:0},A=Object(n["createVNode"])("i",{class:"el-icon-close"},null,-1),z={key:1},L=Object(n["createTextVNode"])("添加选项"),R={key:1,class:"userAnswer"},M={class:"checkbox"},q={class:"topicNavIndex"},$={key:0},Y=Object(n["createVNode"])("i",{class:"el-icon-close"},null,-1),H={key:1},J=Object(n["createTextVNode"])("添加选项"),P={key:2,class:"userAnswer"},K={class:"TrueOrFalse"},Q=Object(n["createTextVNode"])("正确"),W=Object(n["createTextVNode"])("错误"),G={key:3,class:"userAnswer"},X={class:"fillInBlank"},Z={key:4,class:"userAnswer"},ee={class:"text"},te=Object(n["createVNode"])("strong",null,"  关键字",-1),oe=Object(n["createTextVNode"])("添加关键字"),ne={key:5,class:"userAnswer"},ce={class:"answer"},ie=Object(n["createVNode"])("strong",null,"正确答案: ",-1),ae={class:"difficulty"},re=Object(n["createVNode"])("strong",null,"难度: ",-1),le={key:0},se={key:1},de={class:"topicScore"},ue=Object(n["createVNode"])("strong",null,"分值: ",-1),pe={key:0},be={key:1},je=Object(n["createTextVNode"])(" (分) "),Oe={class:"analysis"},fe=Object(n["createVNode"])("strong",null,"题目解析: ",-1),me={key:0},Ve={key:1},he={class:"tool"},ke={class:"nav-title"},ve=Object(n["createVNode"])("i",{class:"el-icon-plus"},null,-1),ye=Object(n["createVNode"])("i",{class:"el-icon-arrow-up"},null,-1);Object(n["popScopeId"])();var Ne=c((function(e,t,o,Ne,ge,xe){var we=Object(n["resolveComponent"])("el-button"),Be=Object(n["resolveComponent"])("el-dialog"),Te=Object(n["resolveComponent"])("el-col"),_e=Object(n["resolveComponent"])("el-input"),Ce=Object(n["resolveComponent"])("el-option"),Se=Object(n["resolveComponent"])("el-select"),Ie=Object(n["resolveComponent"])("el-switch"),De=Object(n["resolveComponent"])("el-row"),Ee=Object(n["resolveComponent"])("el-input-number"),Ue=Object(n["resolveComponent"])("el-radio"),Fe=Object(n["resolveComponent"])("el-checkbox"),Ae=Object(n["resolveComponent"])("el-checkbox-group"),ze=Object(n["resolveComponent"])("el-divider"),Le=Object(n["resolveDirective"])("loading");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])(Be,{title:ge.titles,modelValue:ge.centerDialogVisible,"onUpdate:modelValue":t[3]||(t[3]=function(e){return ge.centerDialogVisible=e}),width:"40%"},{footer:c((function(){return[Object(n["createVNode"])("span",a,[Object(n["createVNode"])(we,{type:"primary",onClick:t[1]||(t[1]=function(e){return ge.centerDialogVisible=!1})},{default:c((function(){return[r]})),_:1}),Object(n["createVNode"])(we,{type:"danger",onClick:t[2]||(t[2]=function(e){return ge.centerDialogVisible=!1,xe.clearFwb()})},{default:c((function(){return[l]})),_:1})])]})),default:c((function(){return[Object(n["createVNode"])("div",i,null,512)]})),_:1},8,["title","modelValue"]),Object(n["withDirectives"])(Object(n["createVNode"])("div",{class:"createTest testPaper ",onClick:t[18]||(t[18]=Object(n["withModifiers"])((function(e){return xe.edit(-1,-1)}),["self"])),style:{margin:"10px 0",width:"100%"}},[Object(n["createVNode"])("div",null,[Object(n["createVNode"])("div",s,[Object(n["createVNode"])(De,{gutter:20},{default:c((function(){return[Object(n["createVNode"])(Te,{style:{"max-width":"100px"}},{default:c((function(){return[d]})),_:1}),Object(n["createVNode"])(Te,{style:{"max-width":"300px"}},{default:c((function(){return[Object(n["createVNode"])(_e,{clearable:"",modelValue:ge.testData.examName,"onUpdate:modelValue":t[4]||(t[4]=function(e){return ge.testData.examName=e}),placeholder:"请输入试卷名称",class:"inputs"},null,8,["modelValue"])]})),_:1}),Object(n["createVNode"])(Te,{style:{"max-width":"100px"}},{default:c((function(){return[u]})),_:1}),Object(n["createVNode"])(Te,{style:{"max-width":"300px"}},{default:c((function(){return[Object(n["createVNode"])(Se,{modelValue:ge.value,"onUpdate:modelValue":t[5]||(t[5]=function(e){return ge.value=e}),clearable:"",placeholder:"请选择",class:"inputs"},{default:c((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(ge.options,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(Ce,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(n["createVNode"])(Te,{style:{"max-width":"100px"}},{default:c((function(){return[p]})),_:1}),Object(n["createVNode"])(Te,{style:{"max-width":"300px"}},{default:c((function(){return[Object(n["createVNode"])(Ie,{modelValue:ge.releaseYn,"onUpdate:modelValue":t[6]||(t[6]=function(e){return ge.releaseYn=e}),"active-color":"#13ce66","inactive-color":"#ff4949"},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(n["createVNode"])("ul",null,[Object(n["createVNode"])("li",b,"出卷者: "+Object(n["toDisplayString"])(ge.testData.creatorName),1),Object(n["createVNode"])("li",j,[O,Object(n["createVNode"])(Ee,{modelValue:ge.testData.time,"onUpdate:modelValue":t[7]||(t[7]=function(e){return ge.testData.time=e}),"controls-position":"right",step:10,size:"mini",min:1},null,8,["modelValue"]),f]),Object(n["createVNode"])("li",m,"题目数量: 共 "+Object(n["toDisplayString"])(e.topicNavIndex_mixin(5,ge.sortedTopics[5].topic_content.length-1))+" 道",1),Object(n["createVNode"])("li",V,"总分: "+Object(n["toDisplayString"])(xe.totalScore)+" 分",1),Object(n["createVNode"])("li",h,[k,Object(n["createVNode"])(Ee,{modelValue:ge.testData.passMark,"onUpdate:modelValue":t[8]||(t[8]=function(e){return ge.testData.passMark=e}),"controls-position":"right",step:1,size:"mini",min:1},null,8,["modelValue"]),v]),Object(n["createVNode"])("li",y,[Object(n["createVNode"])(we,{size:"mini",type:"success",onClick:t[9]||(t[9]=function(e){return xe.submit(0)})},{default:c((function(){return[N]})),_:1}),Object(n["createVNode"])(we,{size:"mini",type:"info",onClick:t[10]||(t[10]=function(e){return xe.reset()})},{default:c((function(){return[g]})),_:1})])])]),Object(n["createVNode"])("div",{class:"test-content",onClick:t[16]||(t[16]=Object(n["withModifiers"])((function(e){return xe.edit(-1,-1)}),["self"]))},[Object(n["createVNode"])("div",x,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(ge.sortedTopics,(function(t,o){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{class:"topic",key:o},[0!=t.topic_content.length?(Object(n["openBlock"])(),Object(n["createBlock"])("div",w,[Object(n["createVNode"])("div",B,[Object(n["createVNode"])("h4",null,Object(n["toDisplayString"])(e.bigQuestionName_mixin(t.type,o)),1),Object(n["createVNode"])("div",T,[Object(n["createVNode"])("button",{class:t.showAllScore?"active":"",onClick:function(e){return t.showAllScore=!t.showAllScore}},"统一设置题目分数",10,["onClick"]),t.showAllScore?(Object(n["openBlock"])(),Object(n["createBlock"])(_e,{key:0,onChange:function(e){return xe.setAllScore(e,t.type)},modelValue:t.score,"onUpdate:modelValue":function(e){return t.score=e},placeholder:"请输入分数"},null,8,["onChange","modelValue","onUpdate:modelValue"])):Object(n["createCommentVNode"])("",!0)])]),(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(t.topic_content,(function(o,i){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{key:i,onClick:function(e){return xe.edit(t.type,i)}},[Object(n["createVNode"])("div",{class:["topic-content",xe.isEdit(t.type,i)?"isEdit":""]},[Object(n["createVNode"])("div",_,[Object(n["createVNode"])(De,null,{default:c((function(){return[Object(n["createVNode"])(Te,{style:{"max-width":"30px"}},{default:c((function(){return[Object(n["createVNode"])("strong",C,Object(n["toDisplayString"])(e.topicNavIndex_mixin(t.type,i))+"、",1)]})),_:2},1024),Object(n["createVNode"])(Te,{span:22},{default:c((function(){return[xe.isEdit(t.type,i)?(Object(n["openBlock"])(),Object(n["createBlock"])("span",S,[Object(n["createVNode"])(_e,{modelValue:o.question,"onUpdate:modelValue":function(e){return o.question=e},type:"textarea",autosize:"",onClick:function(e){return xe.codeFwbEdit(i,t.type,0)}},null,8,["modelValue","onUpdate:modelValue","onClick"])])):(Object(n["openBlock"])(),Object(n["createBlock"])("span",I,[Object(n["createVNode"])("div",{innerHTML:o.question},null,8,["innerHTML"])]))]})),_:2},1024)]})),_:2},1024)]),0==t.type?(Object(n["openBlock"])(),Object(n["createBlock"])("div",D,[Object(n["createVNode"])("div",E,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(o.optionss,(function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])(Ue,{onChange:function(e){return xe.disableRow(e,0,i,t)},key:t,modelValue:o.answer,"onUpdate:modelValue":function(e){return o.answer=e},label:e},{default:c((function(){return[Object(n["createVNode"])("span",U,Object(n["toDisplayString"])(String.fromCharCode(65+t))+"、",1),0==ge.editInedx.type&&ge.editInedx.index==i?(Object(n["openBlock"])(),Object(n["createBlock"])("span",F,[Object(n["createVNode"])(_e,{modelValue:o.optionss[t],"onUpdate:modelValue":function(e){return o.optionss[t]=e},type:"textarea",autosize:"",disabled:o.disableds[t]},null,8,["modelValue","onUpdate:modelValue","disabled"]),o.optionss.length>2?(Object(n["openBlock"])(),Object(n["createBlock"])(we,{key:0,class:"delRadios",size:"mini",type:"danger",onClick:function(e){return xe.delRadios(0,i,t)},disabled:o.disableds[t]},{default:c((function(){return[A]})),_:2},1032,["onClick","disabled"])):Object(n["createCommentVNode"])("",!0)])):(Object(n["openBlock"])(),Object(n["createBlock"])("span",z,Object(n["toDisplayString"])(e),1))]})),_:2},1032,["onChange","modelValue","onUpdate:modelValue","label"])})),128))]),Object(n["createVNode"])(we,{class:"addRadios",size:"mini",icon:"el-icon-plus",onClick:function(e){return xe.addRadios(t.type,i)}},{default:c((function(){return[L]})),_:2},1032,["onClick"])])):Object(n["createCommentVNode"])("",!0),1==t.type?(Object(n["openBlock"])(),Object(n["createBlock"])("div",R,[Object(n["createVNode"])("div",M,[Object(n["createVNode"])(Ae,{modelValue:o.answer,"onUpdate:modelValue":function(e){return o.answer=e}},{default:c((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(o.optionss,(function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])(Fe,{onChange:function(e){return xe.disableRow(e,1,i,t)},label:e,key:t},{default:c((function(){return[Object(n["createVNode"])("span",q,Object(n["toDisplayString"])(String.fromCharCode(65+t))+"、",1),1==ge.editInedx.type&&ge.editInedx.index==i?(Object(n["openBlock"])(),Object(n["createBlock"])("span",$,[Object(n["createVNode"])(_e,{modelValue:o.optionss[t],"onUpdate:modelValue":function(e){return o.optionss[t]=e},type:"textarea",autosize:"",disabled:o.disableds[t]},null,8,["modelValue","onUpdate:modelValue","disabled"]),o.optionss.length>2?(Object(n["openBlock"])(),Object(n["createBlock"])(we,{key:0,class:"delRadios",size:"mini",type:"danger",onClick:function(e){return xe.delRadios(1,i,t)},disabled:o.disableds[t]},{default:c((function(){return[Y]})),_:2},1032,["onClick","disabled"])):Object(n["createCommentVNode"])("",!0)])):(Object(n["openBlock"])(),Object(n["createBlock"])("span",H,Object(n["toDisplayString"])(e),1))]})),_:2},1032,["onChange","label"])})),128))]})),_:2},1032,["modelValue","onUpdate:modelValue"])]),Object(n["createVNode"])(we,{class:"addRadios",size:"mini",icon:"el-icon-plus",onClick:function(e){return xe.addRadios(t.type,i)}},{default:c((function(){return[J]})),_:2},1032,["onClick"])])):Object(n["createCommentVNode"])("",!0),2==t.type?(Object(n["openBlock"])(),Object(n["createBlock"])("div",P,[Object(n["createVNode"])("div",K,[Object(n["createVNode"])(Ue,{modelValue:o.answer,"onUpdate:modelValue":function(e){return o.answer=e},label:"true"},{default:c((function(){return[Q]})),_:2},1032,["modelValue","onUpdate:modelValue"]),Object(n["createVNode"])(Ue,{modelValue:o.answer,"onUpdate:modelValue":function(e){return o.answer=e},label:"false"},{default:c((function(){return[W]})),_:2},1032,["modelValue","onUpdate:modelValue"])])])):Object(n["createCommentVNode"])("",!0),3==t.type?(Object(n["openBlock"])(),Object(n["createBlock"])("div",G,[Object(n["createVNode"])("div",X,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(xe.fillSymbolStr(o.question),(function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{key:t},[t!=xe.fillSymbolStr(o.question).length-1?(Object(n["openBlock"])(),Object(n["createBlock"])(_e,{key:0,type:"textarea",autosize:"",placeholder:"请回答",modelValue:o.answer[t],"onUpdate:modelValue":function(e){return o.answer[t]=e}},null,8,["modelValue","onUpdate:modelValue"])):Object(n["createCommentVNode"])("",!0)])})),128))])])):Object(n["createCommentVNode"])("",!0),4==t.type?(Object(n["openBlock"])(),Object(n["createBlock"])("div",Z,[Object(n["createVNode"])("div",ee,[te,(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(o.answer,(function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])("div",{key:t},[Object(n["createVNode"])(_e,{type:"textarea",autosize:"",placeholder:"请输入关键字",modelValue:o.answer[t],"onUpdate:modelValue":function(e){return o.answer[t]=e}},null,8,["modelValue","onUpdate:modelValue"])])})),128)),Object(n["createVNode"])(we,{class:"addRadios",size:"mini",icon:"el-icon-plus",onClick:function(e){return xe.addKeyWord(i)}},{default:c((function(){return[oe]})),_:2},1032,["onClick"])])])):Object(n["createCommentVNode"])("",!0),5==t.type?(Object(n["openBlock"])(),Object(n["createBlock"])("div",ne,[Object(n["createVNode"])(_e,{style:{"margin-left":"26px"},type:"textarea",placeholder:"请输入答案",autosize:"",onClick:function(e){return xe.codeFwbEdit(i,t.type,1)}},null,8,["onClick"])])):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])("div",ce,[Object(n["createVNode"])(De,null,{default:c((function(){return[Object(n["createVNode"])(Te,{style:{"max-width":"80px"}},{default:c((function(){return[ie]})),_:1}),Object(n["createVNode"])(Te,{span:22},{default:c((function(){return[Object(n["createVNode"])("div",{innerHTML:o.answer},null,8,["innerHTML"])]})),_:2},1024)]})),_:2},1024)]),Object(n["createVNode"])("div",null,[Object(n["createVNode"])("div",ae,[re,xe.isEdit(t.type,i)?(Object(n["openBlock"])(),Object(n["createBlock"])("span",le,[Object(n["createVNode"])(Se,{modelValue:o.difficulty,"onUpdate:modelValue":function(e){return o.difficulty=e},placeholder:"请选择",size:"mini"},{default:c((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(ge.topicDifficultyOptions,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(Ce,{key:e,label:e,value:e},null,8,["label","value"])})),128))]})),_:2},1032,["modelValue","onUpdate:modelValue"])])):(Object(n["openBlock"])(),Object(n["createBlock"])("span",se,Object(n["toDisplayString"])(o.difficulty),1))]),Object(n["createVNode"])("div",de,[ue,xe.isEdit(t.type,i)?(Object(n["openBlock"])(),Object(n["createBlock"])("span",pe,[Object(n["createVNode"])(Ee,{modelValue:o.score,"onUpdate:modelValue":function(e){return o.score=e},"controls-position":"right",step:1,size:"mini",min:0},null,8,["modelValue","onUpdate:modelValue"])])):(Object(n["openBlock"])(),Object(n["createBlock"])("span",be,Object(n["toDisplayString"])(o.score),1)),je])]),Object(n["createVNode"])("div",Oe,[Object(n["createVNode"])(De,null,{default:c((function(){return[Object(n["createVNode"])(Te,{span:2},{default:c((function(){return[fe]})),_:1}),Object(n["createVNode"])(Te,{span:23},{default:c((function(){return[xe.isEdit(t.type,i)?(Object(n["openBlock"])(),Object(n["createBlock"])("span",me,[Object(n["createVNode"])(_e,{type:"textarea",autosize:"",onClick:function(e){return xe.codeFwbEdit(i,t.type,2)},value:e.correctAnswer(o.analysis)},null,8,["onClick","value"])])):(Object(n["openBlock"])(),Object(n["createBlock"])("span",Ve,[Object(n["createVNode"])("div",{innerHTML:o.analysis},null,8,["innerHTML"])]))]})),_:2},1024)]})),_:2},1024)])],2),Object(n["createVNode"])(ze)],8,["onClick"])})),128))])):Object(n["createCommentVNode"])("",!0)])})),128))]),Object(n["createVNode"])("div",{class:["topic-nav",ge.isFixed?"isFixed":""],style:ge.topic_nav_style},[Object(n["createVNode"])("div",he,[Object(n["createVNode"])(n["Transition"],{name:"el-zoom-in-top"},{default:c((function(){return[Object(n["createVNode"])("div",null,[Object(n["withDirectives"])(Object(n["createVNode"])(we,{icon:"el-icon-top",title:"上移",onClick:t[11]||(t[11]=function(e){return xe.moveTopic(-1)})},null,512),[[n["vShow"],!xe.isEdit(-1,-1)]]),Object(n["withDirectives"])(Object(n["createVNode"])(we,{icon:"el-icon-bottom",title:"下移",onClick:t[12]||(t[12]=function(e){return xe.moveTopic(1)})},null,512),[[n["vShow"],!xe.isEdit(-1,-1)]]),Object(n["withDirectives"])(Object(n["createVNode"])(we,{type:"danger",icon:"el-icon-delete",title:"删除",onClick:t[13]||(t[13]=function(e){return xe.delTopic()})},null,512),[[n["vShow"],!xe.isEdit(-1,-1)]]),Object(n["createVNode"])(we,{type:"success",icon:"el-icon-folder-add",title:"保存",onClick:t[14]||(t[14]=function(e){return xe.submit(1)})})])]})),_:1})]),(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(ge.sortedTopics,(function(o,c){return Object(n["openBlock"])(),Object(n["createBlock"])("ul",{key:c},[Object(n["createVNode"])("li",{class:"topic-nav-item",onClick:t[15]||(t[15]=Object(n["withModifiers"])((function(e){return xe.edit(-1,-1)}),["self"]))},[Object(n["createVNode"])("div",ke,Object(n["toDisplayString"])(e.topicTypeName_mixin(o.type)),1),(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(o.topic_content,(function(t,i){return Object(n["openBlock"])(),Object(n["createBlock"])("span",{class:["topic-nav-button",ge.editInedx.type==o.type],key:i,onClick:function(e){return xe.topicNav(c,i)}},Object(n["toDisplayString"])(e.topicNavIndex_mixin(c,i)),11,["onClick"])})),128)),Object(n["createVNode"])("span",{class:"topic-nav-button",onClick:function(e){return xe.newTopic(o.type)}},[ve],8,["onClick"])])])})),128))],6)]),Object(n["createVNode"])("div",{class:"back-top",onClick:t[17]||(t[17]=function(t){return e.backTop_mixin()})},[ye])])],512),[[Le,ge.loading]])],64)})),ge=o("b85c"),xe=o("1da1"),we=o("5530"),Be=(o("96cf"),o("159b"),o("ac1f"),o("1276"),o("d3b7"),o("a434"),o("5295"),o("1989")),Te=o("7864"),_e=o("b775"),Ce=o("14be"),Se=(o("d514"),{inject:["reload"],name:"EditExam",mixins:[Be["a"]],data:function(){return{loading:!1,titles:"提示",editors:null,centerDialogVisible:!1,disabled:!0,sortedTopics:[{type:0,topic_content:[],score:0,showAllScore:!1},{type:1,topic_content:[],score:0,showAllScore:!1},{type:2,topic_content:[],score:0,showAllScore:!1},{type:3,topic_content:[],score:0,showAllScore:!1},{type:4,topic_content:[],score:0,showAllScore:!1},{type:5,topic_content:[],score:0,showAllScore:!1}],testData:{examId:-1,examName:"",time:"",topicNum:"",passMark:"",creatorName:"",releasing:"",subjectId:""},editInedx:{type:"-1",index:"-1",input:"-2"},topicDifficultyOptions:["简单","中等","困难"],isFixed:!1,topic_nav_style:"top:0px",options:[],value:"",releaseYn:!1}},computed:{params:function(){return this.$route.params},totalScore:function(){var e=0;return this.sortedTopics.forEach((function(t){t.topic_content.forEach((function(t){e+=parseInt(t.score)}))})),this.testData.totalScore=e,e},fillSymbolStr:function(){return function(e){var t=e.split("[]");return t}}},created:function(){var e=this;this.loading=!0;var t=sessionStorage.getItem("phone");_e["a"].post("/exam/createExamDefault",t).then((function(t){for(var o=0;o<t.date.subjects.length;o++)e.options.push({value:t.date.subjects[o].id,label:t.date.subjects[o].subjectName})})),this.getTestPaper()},mounted:function(){window.addEventListener("scroll",this.handleScroll)},methods:{clearFwb:function(){this.editors.setContents("")},codeFwbEdit:function(e,t,o){var n=this,c=this;null!=this.editors&&this.editors.destroy(),this.centerDialogVisible=!0,1===o?(this.titles="代码题答案",this.$nextTick((function(){var o=Object(Ce["createEditor"])(n.$refs.editorContainer,{uploader:function(e,t){switch(e){case"image":return c.uploadImage();case"video":Te["b"].error("暂不支持上传视频！");break;case"audio":Te["b"].error("暂不支持上传音频！");break}}}),i=n.sortedTopics[t].topic_content[e].answer;null==i&&void 0==i||o.setContents(i),o.onChange.subscribe((function(){n.sortedTopics[5].topic_content[e].answer=o.getContents().content})),n.editors=o}))):2===o?(this.titles="题目解析",this.$nextTick((function(){var o=Object(Ce["createEditor"])(n.$refs.editorContainer,{uploader:function(e,t){switch(e){case"image":return c.uploadImage();case"video":Te["b"].error("暂不支持上传视频！");break;case"audio":Te["b"].error("暂不支持上传音频！");break}}}),i=n.sortedTopics[t].topic_content[e].analysis;null==i&&void 0==i||o.setContents(i),o.onChange.subscribe((function(){n.sortedTopics[t].topic_content[e].analysis=o.getContents().content})),n.editors=o}))):(this.titles="题目编辑(填空题[]代表一个填空)",this.$nextTick((function(){var o=Object(Ce["createEditor"])(n.$refs.editorContainer,{uploader:function(e,t){switch(e){case"image":return c.uploadImage();case"video":Te["b"].error("暂不支持上传视频！");break;case"audio":Te["b"].error("暂不支持上传音频！");break}}}),i=n.sortedTopics[t].topic_content[e].question;null==i&&void 0==i||o.setContents(i),o.onChange.subscribe((function(){n.sortedTopics[t].topic_content[e].question=o.getContents().content})),n.editors=o})))},uploadImage:function(){var e=this,t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("accept","image/png, image/jpg, image/jpeg, image/gif"),t.style.cssText="position: absolute; left: -9999px; top: -9999px; opacity: 0";var o=new Promise((function(o){t.addEventListener("change",(function(n){for(var c=new FormData,i=n.target.files,a=0;a<i.length;a++)c.append("file",i[a]);document.body.removeChild(t),_e["a"].post("/file/uploadImage",c).then((function(t){e.isToken(t),200==t.code?(o(t.date),Te["b"].success({message:"上传成功！",type:"success"})):Te["b"].warning({message:t.msg,type:"warning"})})).catch((function(e){Te["b"].error("系统异常,上传失败！")}))}))}));return document.body.appendChild(t),t.click(),o},disableRow:function(e,t,o,n){if(0===t){for(var c=this.sortedTopics[t].topic_content[o].disableds,i=0;i<c.length;i++)this.sortedTopics[t].topic_content[o].disableds[i]=!1;this.sortedTopics[t].topic_content[o].disableds[n]=!0}else this.sortedTopics[t].topic_content[o].disableds[n]=e},reset:function(){this.reload()},submit:function(e){var t=this,o=[];this.sortedTopics.forEach((function(e){0!=e.topic_content.length&&e.topic_content.forEach((function(e){var t=JSON.parse(JSON.stringify(e));o.push(t)}))})),o.forEach((function(e){var t="";if(null!=e.optionss){for(var o=0;o<e.optionss.length;o++)o==e.optionss.length-1?t+=e.optionss[o]:t+=e.optionss[o]+"|";e.optionss=t}}));for(var n=0,c=o;n<c.length;n++){var i=c[n];if(0===i.answer.length)return void Te["b"].error("有题目未选答案！");var a="";if(i.answer instanceof Array)for(var r=0;r<i.answer.length;r++)r==i.answer.length-1?a+=i.answer[r]:a+=i.answer[r]+"|";else a=i.answer;i.answer=a}var l=JSON.parse(JSON.stringify(this.testData));l.topics=o,l.subjectId=this.value,l.topicNum=o.length,this.releaseYn?l.releasing=0:l.releasing=1;var s=Object(we["a"])({},l);0!=o.length?_e["a"].post("/exam/updateExam",s).then((function(o){t.isToken(o),200==o.code?(Te["b"].success({message:"保存成功！",type:"success"}),0==e&&t.$router.push("/examList")):Te["b"].warning({message:o.msg,type:"warning"})})).catch((function(e){Te["b"].error("系统异常,保存失败！")})):Te["b"].warning({message:"请先添加题目",type:"warning"})},getTestPaper:function(){var e=this;return Object(xe["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o=sessionStorage.getItem("examId"),_e["a"].post("/exam/editExamDefault",o).then((function(t){if(e.isToken(t),200==t.code){var o=t.date;e.loading=!1,o.topics.forEach((function(e){4!=e.topicType&&3!=e.topicType&&1!=e.topicType||(e.answer=e.answer.split("|")),null!=e.optionss&&(e.optionss=e.optionss.split("|"));var t=[];if(0==e.topicType)for(var o=0;o<e.optionss.length;o++)e.answer===e.optionss[o]?t[o]=!0:t[o]=!1;else if(1==e.topicType)for(var n=0;n<e.answer.length;n++)for(var c=0;c<e.optionss.length;c++)if(e.answer[n]===e.optionss[c]){t[c]=!0;break}e.disableds=t})),e.testData=o,e.value=e.testData.subjectId,0==e.testData.releasing?e.releaseYn=!0:e.releaseYn=!1;for(var n=e.testData.topics,c=0;c<n.length;c++){var i,a=Object(ge["a"])(e.sortedTopics);try{for(a.s();!(i=a.n()).done;){var r=i.value;n[c].topicType==r.type&&r.topic_content.push(n[c])}}catch(l){a.e(l)}finally{a.f()}}}}));case 2:case"end":return t.stop()}}),t)})))()},setAllScore:function(e,t){e=parseInt(e),this.sortedTopics[t].topic_content.forEach((function(t){t.score=e}))},edit:function(e,t){this.editInedx.type==e&&this.editInedx.index==t||(this.editInedx.type=e,this.editInedx.index=t)},isEdit:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-2;return this.editInedx.type==e&&this.editInedx.index==t&&this.editInedx.input==o},handleScroll:function(){var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;e>154?(this.topic_nav_style="top:"+(e+20)+"px",this.isFixed=!0):this.isFixed=!1},topicNav:function(e,t){var o=this.topicNavIndex_mixin(e,t)-1;setTimeout((function(){document.getElementsByClassName("topic-content")[o].scrollIntoView({behavior:"smooth"})}),100),this.edit(e,t)},newTopic:function(e){var t=this;this.sortedTopics[e].topic_content.push({topicType:e,question:"<p>题目<br></p>",optionss:["选项1","选项2","选项3","选项4"],answer:[],analysis:"<p>答案分析<br></p>",difficulty:"简单",score:10,subjectId:"1",disableds:[!1,!1,!1,!1]});var o=setTimeout((function(){t.topicNav(e,t.sortedTopics[e].topic_content.length-1),clearInterval(o)}),100)},delTopic:function(){var e=this.editInedx.type,t=this.editInedx.index;this.sortedTopics[e].topic_content.splice(t,1)},moveTopic:function(e){var t=this,o=this.editInedx.type,n=this.editInedx.index;if((0!=n||-1!=e)&&(n!=this.sortedTopics[o].topic_content.length-1||1!=e)){var c=this.sortedTopics[o].topic_content[n],i=this.sortedTopics[o].topic_content[n+e];this.sortedTopics[o].topic_content.splice(n,1,i),this.sortedTopics[o].topic_content.splice(n+e,1,c);var a=setTimeout((function(){t.topicNav(o,n+e,10),clearInterval(a)}),100)}},delRadios:function(e,t,o){this.sortedTopics[e].topic_content[t].optionss.splice(o,1)},addRadios:function(e,t){var o=this.sortedTopics[e].topic_content[t].optionss.length+1;o>10?this.$message({message:"不能再添加选项了喔!",type:"warning"}):(this.sortedTopics[e].topic_content[t].optionss.push("选项"+o),this.sortedTopics[e].topic_content[t].disableds.push(!1))},addKeyWord:function(e){this.sortedTopics[4].topic_content[e].answer.push("")},isToken:function(e){""===e&&(Te["b"].error("token已过期,请重新登录!"),localStorage.removeItem("token"),sessionStorage.removeItem("phone"),this.$router.push("/"))}}}),Ie=(o("2a10"),o("6b0d")),De=o.n(Ie);const Ee=De()(Se,[["render",Ne],["__scopeId","data-v-2d8e9f42"]]);t["default"]=Ee}}]);
//# sourceMappingURL=chunk-25c2b5dd.46765487.js.map