(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3adf4f97"],{"18b6":function(e,t,o){"use strict";o("1bc4")},"19f7":function(e,t,o){"use strict";o.r(t);var c=o("7a23"),n=Object(c["withScopeId"])("data-v-724aadf8");Object(c["pushScopeId"])("data-v-724aadf8");var i={ref:"editorContainer"},a={class:"dialog-footer"},r=Object(c["createTextVNode"])("确 定"),l=Object(c["createTextVNode"])("清除"),s={class:"title"},d=Object(c["createTextVNode"])(" 试卷名称: "),u=Object(c["createTextVNode"])(" 试卷类型: "),p=Object(c["createTextVNode"])(" 是否发布: "),b={class:"test-info"},O={class:"test-info"},j=Object(c["createTextVNode"])(" 答题时间: "),f=Object(c["createTextVNode"])(" 分钟 "),m={class:"test-info"},V={class:"test-info"},k={class:"test-info"},h=Object(c["createTextVNode"])(" 及格分数: "),y=Object(c["createTextVNode"])(" 分 "),v={style:{"list-style-type":"none"}},N=Object(c["createTextVNode"])("保存试卷"),g=Object(c["createTextVNode"])("重置试卷"),x={class:"topics"},w={key:0,class:"topicsType"},T={class:"bigQuestionName"},_={class:"allScore"},B={class:"question"},C={class:"question_nunber"},S={key:0},I={key:1},D={key:0,class:"userAnswer"},E={class:"radios"},U={class:"topicNavIndex"},F={key:0},A=Object(c["createVNode"])("i",{class:"el-icon-close"},null,-1),L={key:1},z=Object(c["createTextVNode"])("添加选项"),q={key:1,class:"userAnswer"},R={class:"checkbox"},M={class:"topicNavIndex"},$={key:0},H=Object(c["createVNode"])("i",{class:"el-icon-close"},null,-1),J={key:1},P=Object(c["createTextVNode"])("添加选项"),Y={key:2,class:"userAnswer"},K={class:"TrueOrFalse"},Q=Object(c["createTextVNode"])("正确"),W=Object(c["createTextVNode"])("错误"),G={key:3,class:"userAnswer"},X=Object(c["createTextVNode"])("插入填空符"),Z={class:"fillInBlank"},ee={key:4,class:"userAnswer"},te={class:"text"},oe=Object(c["createVNode"])("strong",null,"  关键字",-1),ce=Object(c["createTextVNode"])("添加关键字"),ne={key:5,class:"userAnswer"},ie={class:"answer"},ae=Object(c["createVNode"])("strong",null,"正确答案: ",-1),re={class:"difficulty"},le=Object(c["createVNode"])("strong",null,"难度: ",-1),se={key:0},de={key:1},ue={class:"topicScore"},pe=Object(c["createVNode"])("strong",null,"分值: ",-1),be={key:0},Oe={key:1},je=Object(c["createTextVNode"])(" (分) "),fe={class:"analysis"},me=Object(c["createVNode"])("strong",null,"题目解析: ",-1),Ve={key:0},ke={key:1},he={class:"tool"},ye={class:"nav-title"},ve=Object(c["createVNode"])("i",{class:"el-icon-plus"},null,-1),Ne=Object(c["createVNode"])("i",{class:"el-icon-arrow-up"},null,-1);Object(c["popScopeId"])();var ge=n((function(e,t,o,ge,xe,we){var Te=Object(c["resolveComponent"])("el-button"),_e=Object(c["resolveComponent"])("el-dialog"),Be=Object(c["resolveComponent"])("el-col"),Ce=Object(c["resolveComponent"])("el-input"),Se=Object(c["resolveComponent"])("el-option"),Ie=Object(c["resolveComponent"])("el-select"),De=Object(c["resolveComponent"])("el-switch"),Ee=Object(c["resolveComponent"])("el-row"),Ue=Object(c["resolveComponent"])("el-input-number"),Fe=Object(c["resolveComponent"])("el-radio"),Ae=Object(c["resolveComponent"])("el-checkbox"),Le=Object(c["resolveComponent"])("el-checkbox-group"),ze=Object(c["resolveComponent"])("el-divider");return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],null,[Object(c["createVNode"])(_e,{title:xe.titles,modelValue:xe.centerDialogVisible,"onUpdate:modelValue":t[3]||(t[3]=function(e){return xe.centerDialogVisible=e}),width:"40%"},{footer:n((function(){return[Object(c["createVNode"])("span",a,[Object(c["createVNode"])(Te,{type:"primary",onClick:t[1]||(t[1]=function(e){return xe.centerDialogVisible=!1})},{default:n((function(){return[r]})),_:1}),Object(c["createVNode"])(Te,{type:"danger",onClick:t[2]||(t[2]=function(e){return xe.centerDialogVisible=!1,we.clearFwb()})},{default:n((function(){return[l]})),_:1})])]})),default:n((function(){return[Object(c["createVNode"])("div",i,null,512)]})),_:1},8,["title","modelValue"]),Object(c["createVNode"])("div",{class:"createTest testPaper ",onClick:t[17]||(t[17]=Object(c["withModifiers"])((function(e){return we.edit(-1,-1)}),["self"])),style:{margin:"10px 0",width:"100%"}},[Object(c["createVNode"])("div",null,[Object(c["createVNode"])("div",s,[Object(c["createVNode"])(Ee,{gutter:20},{default:n((function(){return[Object(c["createVNode"])(Be,{style:{"max-width":"100px"}},{default:n((function(){return[d]})),_:1}),Object(c["createVNode"])(Be,{style:{"max-width":"300px"}},{default:n((function(){return[Object(c["createVNode"])(Ce,{clearable:"",modelValue:xe.testData.examName,"onUpdate:modelValue":t[4]||(t[4]=function(e){return xe.testData.examName=e}),placeholder:"请输入试卷名称",class:"inputs"},null,8,["modelValue"])]})),_:1}),Object(c["createVNode"])(Be,{style:{"max-width":"100px"}},{default:n((function(){return[u]})),_:1}),Object(c["createVNode"])(Be,{style:{"max-width":"300px"}},{default:n((function(){return[Object(c["createVNode"])(Ie,{modelValue:xe.value,"onUpdate:modelValue":t[5]||(t[5]=function(e){return xe.value=e}),clearable:"",placeholder:"请选择",class:"inputs"},{default:n((function(){return[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(xe.options,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(Se,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),Object(c["createVNode"])(Be,{style:{"max-width":"100px"}},{default:n((function(){return[p]})),_:1}),Object(c["createVNode"])(Be,{style:{"max-width":"300px"}},{default:n((function(){return[Object(c["createVNode"])(De,{modelValue:xe.releaseYn,"onUpdate:modelValue":t[6]||(t[6]=function(e){return xe.releaseYn=e}),"active-color":"#13ce66","inactive-color":"#ff4949"},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(c["createVNode"])("ul",null,[Object(c["createVNode"])("li",b,"出卷者: "+Object(c["toDisplayString"])(xe.testData.creatorName),1),Object(c["createVNode"])("li",O,[j,Object(c["createVNode"])(Ue,{modelValue:xe.testData.time,"onUpdate:modelValue":t[7]||(t[7]=function(e){return xe.testData.time=e}),"controls-position":"right",step:10,size:"mini",min:1},null,8,["modelValue"]),f]),Object(c["createVNode"])("li",m,"题目数量: 共 "+Object(c["toDisplayString"])(e.topicNavIndex_mixin(5,xe.sortedTopics[5].topic_content.length-1))+" 道",1),Object(c["createVNode"])("li",V,"总分: "+Object(c["toDisplayString"])(we.totalScore)+" 分",1),Object(c["createVNode"])("li",k,[h,Object(c["createVNode"])(Ue,{modelValue:xe.testData.passMark,"onUpdate:modelValue":t[8]||(t[8]=function(e){return xe.testData.passMark=e}),"controls-position":"right",step:1,size:"mini",min:1},null,8,["modelValue"]),y]),Object(c["createVNode"])("li",v,[Object(c["createVNode"])(Te,{size:"mini",type:"success",onClick:t[9]||(t[9]=function(e){return we.submit(0)})},{default:n((function(){return[N]})),_:1}),Object(c["createVNode"])(Te,{size:"mini",type:"info",onClick:t[10]||(t[10]=function(e){return we.reset()})},{default:n((function(){return[g]})),_:1})])])]),Object(c["createVNode"])("div",{class:"test-content",onClick:t[15]||(t[15]=Object(c["withModifiers"])((function(e){return we.edit(-1,-1)}),["self"]))},[Object(c["createVNode"])("div",x,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(xe.sortedTopics,(function(t,o){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{class:"topic",key:o},[0!=t.topic_content.length?(Object(c["openBlock"])(),Object(c["createBlock"])("div",w,[Object(c["createVNode"])("div",T,[Object(c["createVNode"])("h4",null,Object(c["toDisplayString"])(e.bigQuestionName_mixin(t.type,o)),1),Object(c["createVNode"])("div",_,[Object(c["createVNode"])("button",{class:t.showAllScore?"active":"",onClick:function(e){return t.showAllScore=!t.showAllScore}},"统一设置题目分数",10,["onClick"]),t.showAllScore?(Object(c["openBlock"])(),Object(c["createBlock"])(Ce,{key:0,onChange:function(e){return we.setAllScore(e,t.type)},modelValue:t.score,"onUpdate:modelValue":function(e){return t.score=e},placeholder:"请输入分数"},null,8,["onChange","modelValue","onUpdate:modelValue"])):Object(c["createCommentVNode"])("",!0)])]),(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(t.topic_content,(function(o,i){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{key:i,onClick:function(e){return we.edit(t.type,i)}},[Object(c["createVNode"])("div",{class:["topic-content",we.isEdit(t.type,i)?"isEdit":""]},[Object(c["createVNode"])("div",B,[Object(c["createVNode"])(Ee,null,{default:n((function(){return[Object(c["createVNode"])(Be,{style:{"max-width":"30px"}},{default:n((function(){return[Object(c["createVNode"])("strong",C,Object(c["toDisplayString"])(e.topicNavIndex_mixin(t.type,i))+"、",1)]})),_:2},1024),Object(c["createVNode"])(Be,{span:22},{default:n((function(){return[we.isEdit(t.type,i)?(Object(c["openBlock"])(),Object(c["createBlock"])("span",S,[Object(c["createVNode"])(Ce,{modelValue:o.question,"onUpdate:modelValue":function(e){return o.question=e},type:"textarea",autosize:"",onClick:function(e){return we.codeFwbEdit(i,t.type,0)}},null,8,["modelValue","onUpdate:modelValue","onClick"])])):(Object(c["openBlock"])(),Object(c["createBlock"])("span",I,[Object(c["createVNode"])("div",{innerHTML:o.question},null,8,["innerHTML"])]))]})),_:2},1024)]})),_:2},1024)]),0==t.type?(Object(c["openBlock"])(),Object(c["createBlock"])("div",D,[Object(c["createVNode"])("div",E,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(o.optionss,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])(Fe,{onChange:function(e){return we.disableRow(e,0,i,t)},key:t,modelValue:o.answer,"onUpdate:modelValue":function(e){return o.answer=e},label:e},{default:n((function(){return[Object(c["createVNode"])("span",U,Object(c["toDisplayString"])(String.fromCharCode(65+t))+"、",1),0==xe.editInedx.type&&xe.editInedx.index==i?(Object(c["openBlock"])(),Object(c["createBlock"])("span",F,[Object(c["createVNode"])(Ce,{modelValue:o.optionss[t],"onUpdate:modelValue":function(e){return o.optionss[t]=e},type:"textarea",autosize:"",disabled:o.disableds[t]},null,8,["modelValue","onUpdate:modelValue","disabled"]),o.optionss.length>2?(Object(c["openBlock"])(),Object(c["createBlock"])(Te,{key:0,class:"delRadios",size:"mini",type:"danger",onClick:function(e){return we.delRadios(0,i,t)},disabled:o.disableds[t]},{default:n((function(){return[A]})),_:2},1032,["onClick","disabled"])):Object(c["createCommentVNode"])("",!0)])):(Object(c["openBlock"])(),Object(c["createBlock"])("span",L,Object(c["toDisplayString"])(e),1))]})),_:2},1032,["onChange","modelValue","onUpdate:modelValue","label"])})),128))]),Object(c["createVNode"])(Te,{class:"addRadios",size:"mini",icon:"el-icon-plus",onClick:function(e){return we.addRadios(t.type,i)}},{default:n((function(){return[z]})),_:2},1032,["onClick"])])):Object(c["createCommentVNode"])("",!0),1==t.type?(Object(c["openBlock"])(),Object(c["createBlock"])("div",q,[Object(c["createVNode"])("div",R,[Object(c["createVNode"])(Le,{modelValue:o.answer,"onUpdate:modelValue":function(e){return o.answer=e}},{default:n((function(){return[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(o.optionss,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])(Ae,{onChange:function(e){return we.disableRow(e,1,i,t)},label:e,key:t},{default:n((function(){return[Object(c["createVNode"])("span",M,Object(c["toDisplayString"])(String.fromCharCode(65+t))+"、",1),1==xe.editInedx.type&&xe.editInedx.index==i?(Object(c["openBlock"])(),Object(c["createBlock"])("span",$,[Object(c["createVNode"])(Ce,{modelValue:o.optionss[t],"onUpdate:modelValue":function(e){return o.optionss[t]=e},type:"textarea",autosize:"",disabled:o.disableds[t]},null,8,["modelValue","onUpdate:modelValue","disabled"]),o.optionss.length>2?(Object(c["openBlock"])(),Object(c["createBlock"])(Te,{key:0,class:"delRadios",size:"mini",type:"danger",onClick:function(e){return we.delRadios(1,i,t)},disabled:o.disableds[t]},{default:n((function(){return[H]})),_:2},1032,["onClick","disabled"])):Object(c["createCommentVNode"])("",!0)])):(Object(c["openBlock"])(),Object(c["createBlock"])("span",J,Object(c["toDisplayString"])(e),1))]})),_:2},1032,["onChange","label"])})),128))]})),_:2},1032,["modelValue","onUpdate:modelValue"])]),Object(c["createVNode"])(Te,{class:"addRadios",size:"mini",icon:"el-icon-plus",onClick:function(e){return we.addRadios(t.type,i)}},{default:n((function(){return[P]})),_:2},1032,["onClick"])])):Object(c["createCommentVNode"])("",!0),2==t.type?(Object(c["openBlock"])(),Object(c["createBlock"])("div",Y,[Object(c["createVNode"])("div",K,[Object(c["createVNode"])(Fe,{modelValue:o.answer,"onUpdate:modelValue":function(e){return o.answer=e},label:"true"},{default:n((function(){return[Q]})),_:2},1032,["modelValue","onUpdate:modelValue"]),Object(c["createVNode"])(Fe,{modelValue:o.answer,"onUpdate:modelValue":function(e){return o.answer=e},label:"false"},{default:n((function(){return[W]})),_:2},1032,["modelValue","onUpdate:modelValue"])])])):Object(c["createCommentVNode"])("",!0),3==t.type?(Object(c["openBlock"])(),Object(c["createBlock"])("div",G,[Object(c["createVNode"])(Te,{size:"mini",onClick:function(e){return we.addFillSymbol(i)}},{default:n((function(){return[X]})),_:2},1032,["onClick"]),Object(c["createVNode"])("div",Z,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(we.fillSymbolStr(o.question),(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{key:t},[t!=we.fillSymbolStr(o.question).length-1?(Object(c["openBlock"])(),Object(c["createBlock"])(Ce,{key:0,type:"textarea",autosize:"",placeholder:"请回答",modelValue:o.answer[t],"onUpdate:modelValue":function(e){return o.answer[t]=e}},null,8,["modelValue","onUpdate:modelValue"])):Object(c["createCommentVNode"])("",!0)])})),128))])])):Object(c["createCommentVNode"])("",!0),4==t.type?(Object(c["openBlock"])(),Object(c["createBlock"])("div",ee,[Object(c["createVNode"])("div",te,[oe,(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(o.answer,(function(e,t){return Object(c["openBlock"])(),Object(c["createBlock"])("div",{key:t},[Object(c["createVNode"])(Ce,{type:"textarea",autosize:"",placeholder:"请输入关键字",modelValue:o.answer[t],"onUpdate:modelValue":function(e){return o.answer[t]=e}},null,8,["modelValue","onUpdate:modelValue"])])})),128)),Object(c["createVNode"])(Te,{class:"addRadios",size:"mini",icon:"el-icon-plus",onClick:function(e){return we.addKeyWord(i)}},{default:n((function(){return[ce]})),_:2},1032,["onClick"])])])):Object(c["createCommentVNode"])("",!0),5==t.type?(Object(c["openBlock"])(),Object(c["createBlock"])("div",ne,[Object(c["createVNode"])(Ce,{style:{"margin-left":"26px"},type:"textarea",placeholder:"请输入答案",autosize:"",onClick:function(e){return we.codeFwbEdit(i,t.type,1)}},null,8,["onClick"])])):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])("div",ie,[Object(c["createVNode"])(Ee,null,{default:n((function(){return[Object(c["createVNode"])(Be,{style:{"max-width":"80px"}},{default:n((function(){return[ae]})),_:1}),Object(c["createVNode"])(Be,{span:22},{default:n((function(){return[Object(c["createVNode"])("div",{innerHTML:o.answer},null,8,["innerHTML"])]})),_:2},1024)]})),_:2},1024)]),Object(c["createVNode"])("div",null,[Object(c["createVNode"])("div",re,[le,we.isEdit(t.type,i)?(Object(c["openBlock"])(),Object(c["createBlock"])("span",se,[Object(c["createVNode"])(Ie,{modelValue:o.difficulty,"onUpdate:modelValue":function(e){return o.difficulty=e},placeholder:"请选择",size:"mini"},{default:n((function(){return[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(xe.topicDifficultyOptions,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])(Se,{key:e,label:e,value:e},null,8,["label","value"])})),128))]})),_:2},1032,["modelValue","onUpdate:modelValue"])])):(Object(c["openBlock"])(),Object(c["createBlock"])("span",de,Object(c["toDisplayString"])(o.difficulty),1))]),Object(c["createVNode"])("div",ue,[pe,we.isEdit(t.type,i)?(Object(c["openBlock"])(),Object(c["createBlock"])("span",be,[Object(c["createVNode"])(Ue,{modelValue:o.score,"onUpdate:modelValue":function(e){return o.score=e},"controls-position":"right",step:1,size:"mini",min:0},null,8,["modelValue","onUpdate:modelValue"])])):(Object(c["openBlock"])(),Object(c["createBlock"])("span",Oe,Object(c["toDisplayString"])(o.score),1)),je])]),Object(c["createVNode"])("div",fe,[Object(c["createVNode"])(Ee,null,{default:n((function(){return[Object(c["createVNode"])(Be,{span:2},{default:n((function(){return[me]})),_:1}),Object(c["createVNode"])(Be,{span:23},{default:n((function(){return[we.isEdit(t.type,i)?(Object(c["openBlock"])(),Object(c["createBlock"])("span",Ve,[Object(c["createVNode"])(Ce,{type:"textarea",autosize:"",onClick:function(e){return we.codeFwbEdit(i,t.type,2)},value:e.correctAnswer(o.analysis)},null,8,["onClick","value"])])):(Object(c["openBlock"])(),Object(c["createBlock"])("span",ke,[Object(c["createVNode"])("div",{innerHTML:o.analysis},null,8,["innerHTML"])]))]})),_:2},1024)]})),_:2},1024)])],2),Object(c["createVNode"])(ze)],8,["onClick"])})),128))])):Object(c["createCommentVNode"])("",!0)])})),128))]),Object(c["createVNode"])("div",{class:["topic-nav",xe.isFixed?"isFixed":""],style:xe.topic_nav_style},[Object(c["createVNode"])("div",he,[Object(c["createVNode"])(c["Transition"],{name:"el-zoom-in-top"},{default:n((function(){return[Object(c["createVNode"])("div",null,[Object(c["withDirectives"])(Object(c["createVNode"])(Te,{icon:"el-icon-top",title:"上移",onClick:t[11]||(t[11]=function(e){return we.moveTopic(-1)})},null,512),[[c["vShow"],!we.isEdit(-1,-1)]]),Object(c["withDirectives"])(Object(c["createVNode"])(Te,{icon:"el-icon-bottom",title:"下移",onClick:t[12]||(t[12]=function(e){return we.moveTopic(1)})},null,512),[[c["vShow"],!we.isEdit(-1,-1)]]),Object(c["withDirectives"])(Object(c["createVNode"])(Te,{type:"danger",icon:"el-icon-delete",title:"删除",onClick:t[13]||(t[13]=function(e){return we.delTopic()})},null,512),[[c["vShow"],!we.isEdit(-1,-1)]])])]})),_:1})]),(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(xe.sortedTopics,(function(o,n){return Object(c["openBlock"])(),Object(c["createBlock"])("ul",{key:n},[Object(c["createVNode"])("li",{class:"topic-nav-item",onClick:t[14]||(t[14]=Object(c["withModifiers"])((function(e){return we.edit(-1,-1)}),["self"]))},[Object(c["createVNode"])("div",ye,Object(c["toDisplayString"])(e.topicTypeName_mixin(o.type)),1),(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(o.topic_content,(function(t,i){return Object(c["openBlock"])(),Object(c["createBlock"])("span",{class:["topic-nav-button",xe.editInedx.type==o.type],key:i,onClick:function(e){return we.topicNav(n,i)}},Object(c["toDisplayString"])(e.topicNavIndex_mixin(n,i)),11,["onClick"])})),128)),Object(c["createVNode"])("span",{class:"topic-nav-button",onClick:function(e){return we.newTopic(o.type)}},[ve],8,["onClick"])])])})),128))],6)]),Object(c["createVNode"])("div",{class:"back-top",onClick:t[16]||(t[16]=function(t){return e.backTop_mixin()})},[Ne])])])],64)})),xe=o("b85c"),we=o("1da1"),Te=o("5530"),_e=(o("96cf"),o("159b"),o("ac1f"),o("1276"),o("b0c0"),o("d3b7"),o("a434"),o("5295"),o("1989")),Be=o("7864"),Ce=o("b775"),Se=o("14be"),Ie=(o("d514"),{inject:["reload"],name:"TestPaperTch",mixins:[_e["a"]],data:function(){return{titles:"提示",editors:null,centerDialogVisible:!1,sortedTopics:[{type:0,topic_content:[],score:0,showAllScore:!1},{type:1,topic_content:[],score:0,showAllScore:!1},{type:2,topic_content:[],score:0,showAllScore:!1},{type:3,topic_content:[],score:0,showAllScore:!1},{type:4,topic_content:[],score:0,showAllScore:!1},{type:5,topic_content:[],score:0,showAllScore:!1}],testData:{examId:-1,examName:"",time:120,topicNum:0,passMark:60,repeatTest:1,disruptOrder:0,creatorName:"",subjectId:0},editInedx:{type:"-1",index:"-1",input:"-2"},topicDifficultyOptions:["简单","中等","困难"],isFixed:!1,topic_nav_style:"top:0px",options:[],value:"",releaseYn:!1}},computed:{params:function(){return this.$route.params},totalScore:function(){var e=0;return this.sortedTopics.forEach((function(t){t.topic_content.forEach((function(t){e+=parseInt(t.score)}))})),this.testData.totalScore=e,e},fillSymbolStr:function(){return function(e){var t=e.split("[]");return t}}},created:function(){var e=this,t=sessionStorage.getItem("phone");Ce["a"].post("/exam/createExamDefault",t).then((function(t){e.testData.creatorName=t.date.user.name,e.testData.creatorPhone=t.date.user.phone;for(var o=0;o<t.date.subjects.length;o++)e.options.push({value:t.date.subjects[o].id,label:t.date.subjects[o].subjectName})}))},mounted:function(){window.addEventListener("scroll",this.handleScroll)},methods:{clearFwb:function(){this.editors.setContents("")},codeFwbEdit:function(e,t,o){var c=this,n=this;null!=this.editors&&this.editors.destroy(),this.centerDialogVisible=!0,1===o?(this.titles="代码题答案",this.$nextTick((function(){var o=Object(Se["createEditor"])(c.$refs.editorContainer,{uploader:function(e,t){switch(e){case"image":return n.uploadImage();case"video":Be["b"].error("暂不支持上传视频！");break;case"audio":Be["b"].error("暂不支持上传音频！");break}}}),i=c.sortedTopics[t].topic_content[e].answer;null==i&&void 0==i||o.setContents(i),o.onChange.subscribe((function(){c.sortedTopics[5].topic_content[e].answer=o.getContents().content})),c.editors=o}))):2===o?(this.titles="题目解析",this.$nextTick((function(){var o=Object(Se["createEditor"])(c.$refs.editorContainer,{uploader:function(e,t){switch(e){case"image":return n.uploadImage();case"video":Be["b"].error("暂不支持上传视频！");break;case"audio":Be["b"].error("暂不支持上传音频！");break}}}),i=c.sortedTopics[t].topic_content[e].analysis;null==i&&void 0==i||o.setContents(i),o.onChange.subscribe((function(){c.sortedTopics[t].topic_content[e].analysis=o.getContents().content})),c.editors=o}))):(this.titles="题目编辑(填空题[]代表一个填空)",this.$nextTick((function(){var o=Object(Se["createEditor"])(c.$refs.editorContainer,{uploader:function(e,t){switch(e){case"image":return n.uploadImage();case"video":Be["b"].error("暂不支持上传视频！");break;case"audio":Be["b"].error("暂不支持上传音频！");break}}}),i=c.sortedTopics[t].topic_content[e].question;null==i&&void 0==i||o.setContents(i),o.onChange.subscribe((function(){c.sortedTopics[t].topic_content[e].question=o.getContents().content})),c.editors=o})))},uploadImage:function(){var e=this,t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("accept","image/png, image/jpg, image/jpeg, image/gif"),t.style.cssText="position: absolute; left: -9999px; top: -9999px; opacity: 0";var o=new Promise((function(o){t.addEventListener("change",(function(c){for(var n=new FormData,i=c.target.files,a=0;a<i.length;a++)n.append("file",i[a]);document.body.removeChild(t),Ce["a"].post("/file/uploadImage",n).then((function(t){e.isToken(t),200==t.code?(o(t.date),Be["b"].success({message:"上传成功！",type:"success"})):Be["b"].warning({message:t.msg,type:"warning"})})).catch((function(e){Be["b"].error("系统异常,上传失败！")}))}))}));return document.body.appendChild(t),t.click(),o},disableRow:function(e,t,o,c){if(0===t){for(var n=this.sortedTopics[t].topic_content[o].disableds,i=0;i<n.length;i++)this.sortedTopics[t].topic_content[o].disableds[i]=!1;this.sortedTopics[t].topic_content[o].disableds[c]=!0}else this.sortedTopics[t].topic_content[o].disableds[c]=e},reset:function(){this.reload()},submit:function(e){var t=this,o=[];this.sortedTopics.forEach((function(e){0!=e.topic_content.length&&e.topic_content.forEach((function(e){var t=JSON.parse(JSON.stringify(e));o.push(t)}))})),o.forEach((function(e){for(var t="",o=0;o<e.optionss.length;o++)o==e.optionss.length-1?t+=e.optionss[o]:t+=e.optionss[o]+"|";e.optionss=t,e.required=!0===e.required?1:0}));for(var c=0,n=o;c<n.length;c++){var i=n[c];if(0===i.answer.length)return void Be["b"].error("有题目未选答案！");var a="";if(i.answer instanceof Array)for(var r=0;r<i.answer.length;r++)r==i.answer.length-1?a+=i.answer[r]:a+=i.answer[r]+"|";else a=i.answer;i.answer=a}var l=JSON.parse(JSON.stringify(this.testData));l.topics=o,l.subjectId=this.value,l.topicNum=o.length,this.releaseYn?l.releasing=0:l.releasing=1;var s=Object(Te["a"])({},l);0!=o.length?Ce["a"].post("/exam/createExam",s).then((function(o){t.isToken(o),200==o.code?(Be["b"].success({message:"保存成功！",type:"success"}),0==e&&t.$router.push("/examList")):Be["b"].warning({message:o.msg,type:"warning"})})).catch((function(e){Be["b"].error("系统异常,保存失败！")})):Be["b"].warning({message:"请先添加题目",type:"warning"})},getTestPaper:function(){var e=this;return Object(we["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o={examId:e.$route.params.tp_id},t.next=3,e.$http.get("/getTestPaperByTp_id",{params:o}).then((function(t){if(200==t.code){var o=t.data;o.topicTchDTOList.forEach((function(e){4!=e.topicType&&3!=e.topicType&&1!=e.topicType||(e.answer=e.answer.split(/[\n]/g)),e.optionss=e.optionss.split(/[\n]/g),e.required=1===e.required})),o.autoMack=1==o.autoMack,o.disruptOrder=1==o.disruptOrder,o.permitCopy=1==o.permitCopy,e.testData=o;for(var c=e.testData.topicTchDTOList,n=0;n<c.length;n++){var i,a=Object(xe["a"])(e.sortedTopics);try{for(a.s();!(i=a.n()).done;){var r=i.value;c[n].topicType==r.type&&r.topic_content.push(c[n])}}catch(l){a.e(l)}finally{a.f()}}}}));case 3:case"end":return t.stop()}}),t)})))()},setAllScore:function(e,t){e=parseInt(e),this.sortedTopics[t].topic_content.forEach((function(t){t.score=e}))},edit:function(e,t){this.editInedx.type==e&&this.editInedx.index==t||(this.editInedx.type=e,this.editInedx.index=t)},isEdit:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-2;return this.editInedx.type==e&&this.editInedx.index==t&&this.editInedx.input==o},handleScroll:function(){var e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;e>154?(this.topic_nav_style="top:"+(e+20)+"px",this.isFixed=!0):this.isFixed=!1},topicNav:function(e,t){var o=this.topicNavIndex_mixin(e,t)-1;setTimeout((function(){document.getElementsByClassName("topic-content")[o].scrollIntoView({behavior:"smooth"})}),100),this.edit(e,t)},newTopic:function(e){var t=this;this.sortedTopics[e].topic_content.push({topicType:e,question:"<p>题目<br></p>",optionss:["选项1","选项2","选项3","选项4"],answer:[],analysis:"<p>答案分析<br></p>",difficulty:"简单",score:10,subjectId:"1",disableds:[!1,!1,!1,!1]});var o=setTimeout((function(){t.topicNav(e,t.sortedTopics[e].topic_content.length-1),clearInterval(o)}),100)},delTopic:function(){var e=this.editInedx.type,t=this.editInedx.index;this.sortedTopics[e].topic_content.splice(t,1)},moveTopic:function(e){var t=this,o=this.editInedx.type,c=this.editInedx.index;if((0!=c||-1!=e)&&(c!=this.sortedTopics[o].topic_content.length-1||1!=e)){var n=this.sortedTopics[o].topic_content[c],i=this.sortedTopics[o].topic_content[c+e];this.sortedTopics[o].topic_content.splice(c,1,i),this.sortedTopics[o].topic_content.splice(c+e,1,n);var a=setTimeout((function(){t.topicNav(o,c+e,10),clearInterval(a)}),100)}},delRadios:function(e,t,o){this.sortedTopics[e].topic_content[t].optionss.splice(o,1)},addRadios:function(e,t){var o=this.sortedTopics[e].topic_content[t].optionss.length+1;o>10?this.$message({message:"不能再添加选项了喔!",type:"warning"}):this.sortedTopics[e].topic_content[t].optionss.push("选项"+o)},addFillSymbol:function(e){var t=this.sortedTopics[3].topic_content[e].question;this.sortedTopics[3].topic_content[e].question=t+"[]"},addKeyWord:function(e){this.sortedTopics[4].topic_content[e].answer.push("")},isToken:function(e){""===e&&(Be["b"].error("token已过期,请重新登录!"),localStorage.removeItem("token"),sessionStorage.removeItem("phone"),this.$router.push("/"))}}}),De=(o("18b6"),o("6b0d")),Ee=o.n(De);const Ue=Ee()(Ie,[["render",ge],["__scopeId","data-v-724aadf8"]]);t["default"]=Ue},"1bc4":function(e,t,o){}}]);
//# sourceMappingURL=chunk-3adf4f97.f84eb880.js.map