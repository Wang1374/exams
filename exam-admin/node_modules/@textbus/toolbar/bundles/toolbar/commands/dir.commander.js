import { FormatData, FormatEffect } from '@textbus/core';
export class DirCommander {
    constructor(formatter, dir) {
        this.formatter = formatter;
        this.dir = dir;
        this.recordHistory = true;
    }
    command(context) {
        context.selection.ranges.forEach(range => {
            range.getSelectedScope().forEach(item => {
                item.fragment.apply(this.formatter, {
                    effect: context.overlap ? FormatEffect.Invalid : FormatEffect.Valid,
                    formatData: new FormatData({
                        attrs: {
                            dir: this.dir
                        }
                    })
                });
            });
        });
    }
}
//# sourceMappingURL=dir.commander.js.map