{"remainingRequest":"/Users/sw/Documents/examSystem/exams/exam-admin/node_modules/babel-loader/lib/index.js!/Users/sw/Documents/examSystem/exams/exam-admin/src/router/index.js","dependencies":[{"path":"/Users/sw/Documents/examSystem/exams/exam-admin/src/router/index.js","mtime":1638255138312},{"path":"/Users/sw/Documents/examSystem/exams/exam-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sw/Documents/examSystem/exams/exam-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IGNyZWF0ZVJvdXRlciwgY3JlYXRlV2ViSGlzdG9yeSB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgTGF5b3V0IGZyb20gJ0AvbGF5b3V0L0xheW91dC52dWUnOwp2YXIgcm91dGVzID0gW3sKICBwYXRoOiAnL2xvZ2luJywKICBuYW1lOiAnTG9naW4nLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgiQC92aWV3cy9Mb2dpbi52dWUiKTsKICB9Cn0sIHsKICBwYXRoOiAnL3JlZ2lzdGVyJywKICBuYW1lOiAnUmVnaXN0ZXInLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgiQC92aWV3cy9SZWdpc3Rlci52dWUiKTsKICB9Cn0sIHsKICBwYXRoOiAnL2ZvcmdldFBhc3N3b3JkJywKICBuYW1lOiAnRm9yZ2V0UGFzc3dvcmQnLAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgiQC92aWV3cy9Gb3JnZXRQYXNzd29yZC52dWUiKTsKICB9Cn0sIHsKICBwYXRoOiAnLzQwNCcsCiAgbmFtZTogJzQwNCcsCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KCJAL3ZpZXdzLzQwNC52dWUiKTsKICB9Cn1dOyAvL2NoaWxkcmVuOiDlrZDot6/nlLHot6/lvoQgcmVkaXJlY3Q6IOmHjeWumuWQkQoKdmFyIHJvdXRlciA9IGNyZWF0ZVJvdXRlcih7CiAgaGlzdG9yeTogY3JlYXRlV2ViSGlzdG9yeShwcm9jZXNzLmVudi5CQVNFX1VSTCksCiAgcm91dGVzOiByb3V0ZXMKfSk7IC8v5re75Yqg5Yqo5oCBIOi3r+eUsSDpmLLmraLliLfmlrDkuKLlpLEKCmlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbmV3Um91dGVyQXJyJykpIHsKICB2YXIgdmFsdWVzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbmV3Um91dGVyQXJyJykpOwogIHZhciBjaGlsZHJlbiA9IFtdOwogIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICBjaGlsZHJlbi5wdXNoKHsKICAgICAgcGF0aDogaXRlbS51cmwsCiAgICAgIG5hbWU6IGl0ZW0ubmFtZSwKICAgICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgICAgcmV0dXJuIGltcG9ydCgiQC92aWV3cy8iICsgaXRlbS5uYW1lICsgIi52dWUiKTsKICAgICAgfQogICAgfSk7CiAgfSk7CiAgdmFyIHZhbHVlID0gewogICAgcGF0aDogJy8nLAogICAgbmFtZTogJ0xheW91dCcsCiAgICBjb21wb25lbnQ6IExheW91dCwKICAgIHJlZGlyZWN0OiAnL2xvZ2luJywKICAgIGNoaWxkcmVuOiBjaGlsZHJlbgogIH07CiAgcm91dGVyLmFkZFJvdXRlKHZhbHVlKTsKfQoKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgLy/lgqjlrZjlvZPliY3ot6/nlLHvvIzkvr/kuo7lnKjph43mlrDmiZPlvIDml7blgJnot7PliLDkuIrmrKHlhbPpl63nmoTpobXpnaLvvIjnlKjmiLfkuLvliqjpgIDlh7rpmaTlpJbvvIkKICBpZiAodG8ucGF0aCA9PT0gJy9sb2dpbicgfHwgdG8ucGF0aCA9PT0gJy9yZWdpc3RlcicgfHwgdG8ucGF0aCA9PT0gJy9mb3JnZXRQYXNzd29yZCcpIHsKICAgIG5leHQoKTsKICB9IGVsc2UgewogICAgLy/liKTmlq10b2tlbuaYr+WQpuWtmOWcqAogICAgdmFyIHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIik7CgogICAgaWYgKHRva2VuID09PSBudWxsIHx8IHRva2VuID09PSAnJykgewogICAgICBuZXh0KCcvbG9naW4nKTsKICAgIH0gLy/liKTmlq1zZXNzaW9uIOeUqOaIt+aYr+WQpuWtmOWcqAoKCiAgICB2YXIgcGhvbmUgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJwaG9uZSIpOwoKICAgIGlmIChwaG9uZSA9PT0gbnVsbCB8fCBwaG9uZSA9PT0gJycpIHsKICAgICAgbmV4dCgnL2xvZ2luJyk7CiAgICB9CgogICAgaWYgKHRvLm1hdGNoZWQubGVuZ3RoID09PSAwKSB7CiAgICAgIG5leHQoJy80MDQnKTsgLy8g5Yik5pat5q2k6Lez6L2s6Lev55Sx55qE5p2l5rqQ6Lev55Sx5piv5ZCm5a2Y5Zyo77yM5a2Y5Zyo55qE5oOF5Ya16Lez6L2s5Yiw5p2l5rqQ6Lev55Sx77yM5ZCm5YiZ6Lez6L2s5YiwNDA06aG16Z2iCiAgICB9IC8v5YWB6K645omn6KGMCgoKICAgIG5leHQoKTsKICB9Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["/Users/sw/Documents/examSystem/exams/exam-admin/src/router/index.js"],"names":["createRouter","createWebHistory","Layout","routes","path","name","component","router","history","process","env","BASE_URL","localStorage","getItem","values","JSON","parse","children","forEach","item","push","url","value","redirect","addRoute","beforeEach","to","from","next","token","phone","sessionStorage","matched","length"],"mappings":"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","sourcesContent":["import {\n  createRouter,\n  createWebHistory\n} from 'vue-router'\nimport Layout from '@/layout/Layout.vue'\nconst routes = [{\n    path: '/login',\n    name: 'Login',\n    component: () => import(\"@/views/Login.vue\")\n  },\n  {\n    path: '/register',\n    name: 'Register',\n    component: () => import(\"@/views/Register.vue\")\n  },\n  {\n    path: '/forgetPassword',\n    name: 'ForgetPassword',\n    component: () => import(\"@/views/ForgetPassword.vue\")\n  },\n  {\n    path: '/404',\n    name: '404',\n    component: () => import(\"@/views/404.vue\")\n  },\n]\n\n//children: 子路由路径 redirect: 重定向\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n})\n//添加动态 路由 防止刷新丢失\nif (localStorage.getItem('newRouterArr')) {\n  let values = JSON.parse(localStorage.getItem('newRouterArr'))\n  const children = [];\n  values.forEach(item => {\n    children.push({\n      path: item.url,\n      name: item.name,\n      component: () => import(\"@/views/\" + item.name + \".vue\"),\n    })\n  });\n  let value = {\n    path: '/',\n    name: 'Layout',\n    component: Layout,\n    redirect: '/login',\n    children: children\n  }\n  router.addRoute(value)\n}\n\nrouter.beforeEach((to, from, next) => {\n  //储存当前路由，便于在重新打开时候跳到上次关闭的页面（用户主动退出除外）\n  if (to.path === '/login' || to.path === '/register' || to.path === '/forgetPassword') {\n    next();\n  } else {\n    //判断token是否存在\n    let token = localStorage.getItem(\"token\")\n    if (token === null || token === '') {\n      next('/login')\n    }\n    //判断session 用户是否存在\n    let phone = sessionStorage.getItem(\"phone\")\n    if (phone === null || phone === '') {\n      next('/login')\n    }\n\n    if (to.matched.length === 0) {\n      next('/404') // 判断此跳转路由的来源路由是否存在，存在的情况跳转到来源路由，否则跳转到404页面\n    }\n    //允许执行\n    next();\n  }\n})\nexport default router"]}]}