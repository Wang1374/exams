{"remainingRequest":"/Users/sw/Documents/examSystem/exams/exam-admin/node_modules/babel-loader/lib/index.js!/Users/sw/Documents/examSystem/exams/exam-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/sw/Documents/examSystem/exams/exam-admin/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/sw/Documents/examSystem/exams/exam-admin/src/views/EditExam.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/sw/Documents/examSystem/exams/exam-admin/src/views/EditExam.vue","mtime":1637569130826},{"path":"/Users/sw/Documents/examSystem/exams/exam-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sw/Documents/examSystem/exams/exam-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/sw/Documents/examSystem/exams/exam-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sw/Documents/examSystem/exams/exam-admin/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9zdy9Eb2N1bWVudHMvZXhhbVN5c3RlbS9leGFtcy9leGFtLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9zdy9Eb2N1bWVudHMvZXhhbVN5c3RlbS9leGFtcy9leGFtLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3N3L0RvY3VtZW50cy9leGFtU3lzdGVtL2V4YW1zL2V4YW0tYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgIkAvYXNzZXRzL2xlc3MvdGVzdFBhcGVyLmxlc3MiOwppbXBvcnQgdGVzdFBhcGVyTWl4aW4gZnJvbSAiQC9taXhpbnMvdGVzdFBhcGVyLW1peGluIjsKaW1wb3J0IHsgRWxNZXNzYWdlIH0gZnJvbSAiZWxlbWVudC1wbHVzIjsKaW1wb3J0IHJlcXVlc3QgZnJvbSAiQC91dGlscy9yZXF1ZXN0IjsKaW1wb3J0IHsgY3JlYXRlRWRpdG9yIH0gZnJvbSAiQHRleHRidXMvdGV4dGJ1cyI7CmltcG9ydCAiQHRleHRidXMvdGV4dGJ1cy9idW5kbGVzL3RleHRidXMubWluLmNzcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBpbmplY3Q6IFsicmVsb2FkIl0sCiAgbmFtZTogIkVkaXRFeGFtIiwKICBtaXhpbnM6IFt0ZXN0UGFwZXJNaXhpbl0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICAvL+agh+mimAogICAgICB0aXRsZXM6ICLmj5DnpLoiLAogICAgICAvL+WvjOaWh+acrOWvueixoQogICAgICBlZGl0b3JzOiBudWxsLAogICAgICAvL+WvjOaWh+acrOaooeaAgeahhgogICAgICBjZW50ZXJEaWFsb2dWaXNpYmxlOiBmYWxzZSwKICAgICAgLy/pgInpobnplIHlrprmoIfor4YKICAgICAgZGlzYWJsZWQ6IHRydWUsCiAgICAgIC8v5oyJ6aKY55uu57G75Z6L5YiG57G75aW955qE6aKY55uu5pWw5o2uCiAgICAgIC8v6aKY55uu57G75Z6LPT0+ICAwOuWNlemAiemimCAgMTrlpJrpgInpopggIDI65Yik5pat6aKYICAzOuWhq+epuumimCAgNDrnroDnrZTpopggNTrku6PnoIHpopgKICAgICAgc29ydGVkVG9waWNzOiBbewogICAgICAgIHR5cGU6IDAsCiAgICAgICAgdG9waWNfY29udGVudDogW10sCiAgICAgICAgc2NvcmU6IDAsCiAgICAgICAgc2hvd0FsbFNjb3JlOiBmYWxzZQogICAgICB9LCB7CiAgICAgICAgdHlwZTogMSwKICAgICAgICB0b3BpY19jb250ZW50OiBbXSwKICAgICAgICBzY29yZTogMCwKICAgICAgICBzaG93QWxsU2NvcmU6IGZhbHNlCiAgICAgIH0sIHsKICAgICAgICB0eXBlOiAyLAogICAgICAgIHRvcGljX2NvbnRlbnQ6IFtdLAogICAgICAgIHNjb3JlOiAwLAogICAgICAgIHNob3dBbGxTY29yZTogZmFsc2UKICAgICAgfSwgewogICAgICAgIHR5cGU6IDMsCiAgICAgICAgdG9waWNfY29udGVudDogW10sCiAgICAgICAgc2NvcmU6IDAsCiAgICAgICAgc2hvd0FsbFNjb3JlOiBmYWxzZQogICAgICB9LCB7CiAgICAgICAgdHlwZTogNCwKICAgICAgICB0b3BpY19jb250ZW50OiBbXSwKICAgICAgICBzY29yZTogMCwKICAgICAgICBzaG93QWxsU2NvcmU6IGZhbHNlCiAgICAgIH0sIHsKICAgICAgICB0eXBlOiA1LAogICAgICAgIHRvcGljX2NvbnRlbnQ6IFtdLAogICAgICAgIHNjb3JlOiAwLAogICAgICAgIHNob3dBbGxTY29yZTogZmFsc2UKICAgICAgfV0sCiAgICAgIC8v6K+V5Y235pWw5o2uCiAgICAgIHRlc3REYXRhOiB7CiAgICAgICAgZXhhbUlkOiAtMSwKICAgICAgICBleGFtTmFtZTogIiIsCiAgICAgICAgLy/or5XljbflkI3np7AKICAgICAgICB0aW1lOiAiIiwKICAgICAgICAvL+etlOmimOaXtumXtAogICAgICAgIHRvcGljTnVtOiAiIiwKICAgICAgICAvL+mimOebruaVsOmHjwogICAgICAgIHBhc3NNYXJrOiAiIiwKICAgICAgICAvL+WPiuagvOWIhuaVsAogICAgICAgIGNyZWF0b3JOYW1lOiAiIiwKICAgICAgICAvL+WIm+W7uuiAhQogICAgICAgIHJlbGVhc2luZzogIiIsCiAgICAgICAgLy/mmK/lkKblj5HluIMKICAgICAgICBzdWJqZWN0SWQ6ICIiIC8v57G75Z6LaWQKCiAgICAgIH0sCiAgICAgIC8v5b2T5YmN57yW6L6R55qE6aKY55uu57Si5byVCiAgICAgIGVkaXRJbmVkeDogewogICAgICAgIHR5cGU6ICItMSIsCiAgICAgICAgaW5kZXg6ICItMSIsCiAgICAgICAgaW5wdXQ6ICItMiIKICAgICAgfSwKICAgICAgdG9waWNEaWZmaWN1bHR5T3B0aW9uczogWyLnroDljZUiLCAi5Lit562JIiwgIuWbsOmaviJdLAogICAgICAvL+mimOebrumavuW6pumAiemhuQogICAgICAvL+S+p+WvvOiIquagj+aYr+WQpuaCrOa1rgogICAgICBpc0ZpeGVkOiBmYWxzZSwKICAgICAgdG9waWNfbmF2X3N0eWxlOiAidG9wOjBweCIsCiAgICAgIG9wdGlvbnM6IFtdLAogICAgICB2YWx1ZTogIiIsCiAgICAgIHJlbGVhc2VZbjogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgcGFyYW1zOiBmdW5jdGlvbiBwYXJhbXMoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyb3V0ZS5wYXJhbXM7CiAgICB9LAogICAgLy/or5XljbfmgLvliIYKICAgIHRvdGFsU2NvcmU6IGZ1bmN0aW9uIHRvdGFsU2NvcmUoKSB7CiAgICAgIHZhciBzY29yZSA9IDA7CiAgICAgIHRoaXMuc29ydGVkVG9waWNzLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICBlbGVtZW50LnRvcGljX2NvbnRlbnQuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgc2NvcmUgKz0gcGFyc2VJbnQoaXRlbS5zY29yZSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICB0aGlzLnRlc3REYXRhLnRvdGFsU2NvcmUgPSBzY29yZTsKICAgICAgcmV0dXJuIHNjb3JlOwogICAgfSwKICAgIC8v5oyJ5aGr56m656ymCiAgICBmaWxsU3ltYm9sU3RyOiBmdW5jdGlvbiBmaWxsU3ltYm9sU3RyKCkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKHN0cikgewogICAgICAgIHZhciBxID0gc3RyLnNwbGl0KCJbXSIpOwogICAgICAgIHJldHVybiBxOwogICAgICB9OwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgIHZhciBwaG9uZSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInBob25lIik7CiAgICByZXF1ZXN0LnBvc3QoIi9leGFtL2NyZWF0ZUV4YW1EZWZhdWx0IiwgcGhvbmUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAvL+WIneWni+WMluexu+WeiwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlcy5kYXRlLnN1YmplY3RzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgX3RoaXMub3B0aW9ucy5wdXNoKHsKICAgICAgICAgIHZhbHVlOiByZXMuZGF0ZS5zdWJqZWN0c1tpXS5pZCwKICAgICAgICAgIGxhYmVsOiByZXMuZGF0ZS5zdWJqZWN0c1tpXS5zdWJqZWN0TmFtZQogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKICAgIHRoaXMuZ2V0VGVzdFBhcGVyKCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgLy8g55uR5ZCs5rua5Yqo5LqL5Lu277yM54S25ZCO55SoaGFuZGxlU2Nyb2xs6L+Z5Liq5pa55rOV6L+b6KGM55u45bqU55qE5aSE55CGCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigic2Nyb2xsIiwgdGhpcy5oYW5kbGVTY3JvbGwpOwogIH0sCiAgbWV0aG9kczogewogICAgLy/kvb/nlKjlj5bmtojmjInpkq7muIXnqbrlr4zmlofmnKwKICAgIGNsZWFyRndiOiBmdW5jdGlvbiBjbGVhckZ3YigpIHsKICAgICAgdGhpcy5lZGl0b3JzLnNldENvbnRlbnRzKCIiKTsKICAgIH0sCiAgICBjb2RlRndiRWRpdDogZnVuY3Rpb24gY29kZUZ3YkVkaXQodEluZGV4LCB0eXBlLCBmbGFnZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciB0aGF0ID0gdGhpczsgLy/lpoLmnpzlr4zmlofmnKzkuI3kuLrnqbrlsLHplIDmr4EKCiAgICAgIGlmICh0aGlzLmVkaXRvcnMgIT0gbnVsbCkgewogICAgICAgIHRoaXMuZWRpdG9ycy5kZXN0cm95KCk7CiAgICAgIH0gLy/miZPlvIDmqKHmgIHmoYYKCgogICAgICB0aGlzLmNlbnRlckRpYWxvZ1Zpc2libGUgPSB0cnVlOyAvL+WIm+W7uuWvjOaWh+acrAoKICAgICAgaWYgKGZsYWdlID09PSAxKSB7CiAgICAgICAgdGhpcy50aXRsZXMgPSAi5Luj56CB6aKY562U5qGIIjsKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgZWRpdG9yID0gY3JlYXRlRWRpdG9yKF90aGlzMi4kcmVmcy5lZGl0b3JDb250YWluZXIsIHsKICAgICAgICAgICAgdXBsb2FkZXI6IGZ1bmN0aW9uIHVwbG9hZGVyKHVwbG9hZFR5cGUsIHByZXZWYWx1ZSkgewogICAgICAgICAgICAgIHN3aXRjaCAodXBsb2FkVHlwZSkgewogICAgICAgICAgICAgICAgY2FzZSAiaW1hZ2UiOgogICAgICAgICAgICAgICAgICAvLyDlm77niYcKICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoYXQudXBsb2FkSW1hZ2UoKTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSAidmlkZW8iOgogICAgICAgICAgICAgICAgICAvLyDop4bpopEKICAgICAgICAgICAgICAgICAgRWxNZXNzYWdlLmVycm9yKCLmmoLkuI3mlK/mjIHkuIrkvKDop4bpopHvvIEiKTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSAiYXVkaW8iOgogICAgICAgICAgICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoIuaaguS4jeaUr+aMgeS4iuS8oOmfs+mike+8gSIpOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgdmFyIGh0bWwgPSBfdGhpczIuc29ydGVkVG9waWNzW3R5cGVdLnRvcGljX2NvbnRlbnRbdEluZGV4XS5hbnN3ZXI7CgogICAgICAgICAgaWYgKGh0bWwgIT0gbnVsbCB8fCBodG1sICE9IHVuZGVmaW5lZCkgewogICAgICAgICAgICBlZGl0b3Iuc2V0Q29udGVudHMoaHRtbCk7CiAgICAgICAgICB9CgogICAgICAgICAgZWRpdG9yLm9uQ2hhbmdlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzMi5zb3J0ZWRUb3BpY3NbNV0udG9waWNfY29udGVudFt0SW5kZXhdLmFuc3dlciA9IGVkaXRvci5nZXRDb250ZW50cygpLmNvbnRlbnQ7CiAgICAgICAgICB9KTsKICAgICAgICAgIF90aGlzMi5lZGl0b3JzID0gZWRpdG9yOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKGZsYWdlID09PSAyKSB7CiAgICAgICAgdGhpcy50aXRsZXMgPSAi6aKY55uu6Kej5p6QIjsKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgZWRpdG9yID0gY3JlYXRlRWRpdG9yKF90aGlzMi4kcmVmcy5lZGl0b3JDb250YWluZXIsIHsKICAgICAgICAgICAgdXBsb2FkZXI6IGZ1bmN0aW9uIHVwbG9hZGVyKHVwbG9hZFR5cGUsIHByZXZWYWx1ZSkgewogICAgICAgICAgICAgIHN3aXRjaCAodXBsb2FkVHlwZSkgewogICAgICAgICAgICAgICAgY2FzZSAiaW1hZ2UiOgogICAgICAgICAgICAgICAgICAvLyDlm77niYcKICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoYXQudXBsb2FkSW1hZ2UoKTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSAidmlkZW8iOgogICAgICAgICAgICAgICAgICAvLyDop4bpopEKICAgICAgICAgICAgICAgICAgRWxNZXNzYWdlLmVycm9yKCLmmoLkuI3mlK/mjIHkuIrkvKDop4bpopHvvIEiKTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSAiYXVkaW8iOgogICAgICAgICAgICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoIuaaguS4jeaUr+aMgeS4iuS8oOmfs+mike+8gSIpOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgdmFyIGh0bWwgPSBfdGhpczIuc29ydGVkVG9waWNzW3R5cGVdLnRvcGljX2NvbnRlbnRbdEluZGV4XS5hbmFseXNpczsKCiAgICAgICAgICBpZiAoaHRtbCAhPSBudWxsIHx8IGh0bWwgIT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIGVkaXRvci5zZXRDb250ZW50cyhodG1sKTsKICAgICAgICAgIH0KCiAgICAgICAgICBlZGl0b3Iub25DaGFuZ2Uuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXMyLnNvcnRlZFRvcGljc1t0eXBlXS50b3BpY19jb250ZW50W3RJbmRleF0uYW5hbHlzaXMgPSBlZGl0b3IuZ2V0Q29udGVudHMoKS5jb250ZW50OwogICAgICAgICAgfSk7CiAgICAgICAgICBfdGhpczIuZWRpdG9ycyA9IGVkaXRvcjsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvL+mimOebrgogICAgICAgIHRoaXMudGl0bGVzID0gIumimOebrue8lui+kSjloavnqbrpophbXeS7o+ihqOS4gOS4quWhq+epuikiOwogICAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBlZGl0b3IgPSBjcmVhdGVFZGl0b3IoX3RoaXMyLiRyZWZzLmVkaXRvckNvbnRhaW5lciwgewogICAgICAgICAgICB1cGxvYWRlcjogZnVuY3Rpb24gdXBsb2FkZXIodXBsb2FkVHlwZSwgcHJldlZhbHVlKSB7CiAgICAgICAgICAgICAgc3dpdGNoICh1cGxvYWRUeXBlKSB7CiAgICAgICAgICAgICAgICBjYXNlICJpbWFnZSI6CiAgICAgICAgICAgICAgICAgIC8vIOWbvueJhwogICAgICAgICAgICAgICAgICByZXR1cm4gdGhhdC51cGxvYWRJbWFnZSgpOwogICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICBjYXNlICJ2aWRlbyI6CiAgICAgICAgICAgICAgICAgIC8vIOinhumikQogICAgICAgICAgICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoIuaaguS4jeaUr+aMgeS4iuS8oOinhumike+8gSIpOwogICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICBjYXNlICJhdWRpbyI6CiAgICAgICAgICAgICAgICAgIEVsTWVzc2FnZS5lcnJvcigi5pqC5LiN5pSv5oyB5LiK5Lyg6Z+z6aKR77yBIik7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICB2YXIgaHRtbCA9IF90aGlzMi5zb3J0ZWRUb3BpY3NbdHlwZV0udG9waWNfY29udGVudFt0SW5kZXhdLnF1ZXN0aW9uOwoKICAgICAgICAgIGlmIChodG1sICE9IG51bGwgfHwgaHRtbCAhPSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgZWRpdG9yLnNldENvbnRlbnRzKGh0bWwpOwogICAgICAgICAgfQoKICAgICAgICAgIGVkaXRvci5vbkNoYW5nZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczIuc29ydGVkVG9waWNzW3R5cGVdLnRvcGljX2NvbnRlbnRbdEluZGV4XS5xdWVzdGlvbiA9IGVkaXRvci5nZXRDb250ZW50cygpLmNvbnRlbnQ7CiAgICAgICAgICB9KTsKICAgICAgICAgIF90aGlzMi5lZGl0b3JzID0gZWRpdG9yOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgLy/kuIrkvKDlm77niYcKICAgIHVwbG9hZEltYWdlOiBmdW5jdGlvbiB1cGxvYWRJbWFnZSgpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB2YXIgZmlsZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKICAgICAgZmlsZUlucHV0LnNldEF0dHJpYnV0ZSgidHlwZSIsICJmaWxlIik7CiAgICAgIGZpbGVJbnB1dC5zZXRBdHRyaWJ1dGUoImFjY2VwdCIsICJpbWFnZS9wbmcsIGltYWdlL2pwZywgaW1hZ2UvanBlZywgaW1hZ2UvZ2lmIik7CiAgICAgIGZpbGVJbnB1dC5zdHlsZS5jc3NUZXh0ID0gInBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogLTk5OTlweDsgdG9wOiAtOTk5OXB4OyBvcGFjaXR5OiAwIjsKICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgIGZpbGVJbnB1dC5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgIHZhciBmb3JtID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICB2YXIgZmlsZXMgPSBldmVudC50YXJnZXQuZmlsZXM7CgogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBmb3JtLmFwcGVuZCgiZmlsZSIsIGZpbGVzW2ldKTsKICAgICAgICAgIH0KCiAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGZpbGVJbnB1dCk7IC8v5LiK5Lyg5o6l5Y+jCgogICAgICAgICAgcmVxdWVzdC5wb3N0KCIvZmlsZS91cGxvYWRJbWFnZSIsIGZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAvL+WIpOaWrXRva2Vu5piv5ZCm6L+H5pyfCiAgICAgICAgICAgIHRoYXQuaXNUb2tlbihyZXMpOwoKICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgIHJlc29sdmUocmVzLmRhdGUpOwogICAgICAgICAgICAgIEVsTWVzc2FnZS5zdWNjZXNzKHsKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLkuIrkvKDmiJDlip/vvIEiLAogICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgRWxNZXNzYWdlLndhcm5pbmcoewogICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1zZywKICAgICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIEVsTWVzc2FnZS5lcnJvcigi57O757uf5byC5bi4LOS4iuS8oOWksei0pe+8gSIpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGZpbGVJbnB1dCk7CiAgICAgIGZpbGVJbnB1dC5jbGljaygpOwogICAgICByZXR1cm4gcHJvbWlzZTsKICAgIH0sCiAgICBkaXNhYmxlUm93OiBmdW5jdGlvbiBkaXNhYmxlUm93KGNoZWNrZWQsIHR5cGUsIHRJbmRleCwgaW5kZXgpIHsKICAgICAgaWYgKHR5cGUgPT09IDApIHsKICAgICAgICB2YXIgZGlzID0gdGhpcy5zb3J0ZWRUb3BpY3NbdHlwZV0udG9waWNfY29udGVudFt0SW5kZXhdLmRpc2FibGVkczsKCiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBkaXMubGVuZ3RoOyBrKyspIHsKICAgICAgICAgIHRoaXMuc29ydGVkVG9waWNzW3R5cGVdLnRvcGljX2NvbnRlbnRbdEluZGV4XS5kaXNhYmxlZHNba10gPSBmYWxzZTsKICAgICAgICB9CgogICAgICAgIHRoaXMuc29ydGVkVG9waWNzW3R5cGVdLnRvcGljX2NvbnRlbnRbdEluZGV4XS5kaXNhYmxlZHNbaW5kZXhdID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNvcnRlZFRvcGljc1t0eXBlXS50b3BpY19jb250ZW50W3RJbmRleF0uZGlzYWJsZWRzW2luZGV4XSA9IGNoZWNrZWQ7CiAgICAgIH0KICAgIH0sCiAgICAvL+mHjee9ruivleWNtwogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICAvL+WIt+aWsOmhtemdogogICAgICB0aGlzLnJlbG9hZCgpOwogICAgfSwKICAgIC8v5o+Q5Lqk6K+V5Y23CiAgICBzdWJtaXQ6IGZ1bmN0aW9uIHN1Ym1pdCh2YWx1ZSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIC8qICDlpITnkIbpopjnm67kv6Hmga8gKi8KICAgICAgdmFyIHRvcGljRGF0YSA9IFtdOwogICAgICB0aGlzLnNvcnRlZFRvcGljcy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgaWYgKGVsZW1lbnQudG9waWNfY29udGVudC5sZW5ndGggIT0gMCkgewogICAgICAgICAgZWxlbWVudC50b3BpY19jb250ZW50LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgLy/mt7Hmi7fotJ0KICAgICAgICAgICAgdmFyIG5ld0l0ZW0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGl0ZW0pKTsKICAgICAgICAgICAgdG9waWNEYXRhLnB1c2gobmV3SXRlbSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOyAvL+WkhOeQhumAieaLqemimOmAiemhuQoKICAgICAgdG9waWNEYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICB2YXIgb3B0aW9uc3MgPSAiIjsKCiAgICAgICAgaWYgKGl0ZW0ub3B0aW9uc3MgIT0gbnVsbCkgewogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpdGVtLm9wdGlvbnNzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChpID09IGl0ZW0ub3B0aW9uc3MubGVuZ3RoIC0gMSkgewogICAgICAgICAgICAgIG9wdGlvbnNzICs9IGl0ZW0ub3B0aW9uc3NbaV07CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgb3B0aW9uc3MgKz0gaXRlbS5vcHRpb25zc1tpXSArICJ8IjsKICAgICAgICAgICAgfQogICAgICAgICAgfQoKICAgICAgICAgIGl0ZW0ub3B0aW9uc3MgPSBvcHRpb25zczsgLy/pgInpobkKICAgICAgICB9CiAgICAgIH0pOyAvL+WkhOeQhuato+ehruetlOahiAoKICAgICAgZm9yICh2YXIgX2kgPSAwLCBfdG9waWNEYXRhID0gdG9waWNEYXRhOyBfaSA8IF90b3BpY0RhdGEubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgdmFyIGl0ZW0gPSBfdG9waWNEYXRhW19pXTsKCiAgICAgICAgaWYgKGl0ZW0uYW5zd2VyLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgRWxNZXNzYWdlLmVycm9yKCLmnInpopjnm67mnKrpgInnrZTmoYjvvIEiKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9IC8v5Yik5pat5piv5pWw57uE5oiW6ICF5pmu6YCa562U5qGICgoKICAgICAgICB2YXIgYW5zd2VyID0gIiI7CgogICAgICAgIGlmIChpdGVtLmFuc3dlciBpbnN0YW5jZW9mIEFycmF5KSB7CiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW0uYW5zd2VyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChpID09IGl0ZW0uYW5zd2VyLmxlbmd0aCAtIDEpIHsKICAgICAgICAgICAgICBhbnN3ZXIgKz0gaXRlbS5hbnN3ZXJbaV07CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgYW5zd2VyICs9IGl0ZW0uYW5zd2VyW2ldICsgInwiOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFuc3dlciA9IGl0ZW0uYW5zd2VyOwogICAgICAgIH0KCiAgICAgICAgaXRlbS5hbnN3ZXIgPSBhbnN3ZXI7CiAgICAgIH0gLy/lpITnkIbor5Xljbfkv6Hmga8KCgogICAgICB2YXIgdGVzdERhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMudGVzdERhdGEpKTsKICAgICAgdGVzdERhdGEudG9waWNzID0gdG9waWNEYXRhOwogICAgICB0ZXN0RGF0YS5zdWJqZWN0SWQgPSB0aGlzLnZhbHVlOwogICAgICB0ZXN0RGF0YS50b3BpY051bSA9IHRvcGljRGF0YS5sZW5ndGg7CgogICAgICBpZiAodGhpcy5yZWxlYXNlWW4pIHsKICAgICAgICB0ZXN0RGF0YS5yZWxlYXNpbmcgPSAwOwogICAgICB9IGVsc2UgewogICAgICAgIHRlc3REYXRhLnJlbGVhc2luZyA9IDE7CiAgICAgIH0KCiAgICAgIHZhciBkYXRhID0gX29iamVjdFNwcmVhZCh7fSwgdGVzdERhdGEpOyAvL+WIpOaWreaYr+WQpuaciemimAoKCiAgICAgIGlmICh0b3BpY0RhdGEubGVuZ3RoICE9IDApIHsKICAgICAgICByZXF1ZXN0LnBvc3QoIi9leGFtL3VwZGF0ZUV4YW0iLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIC8v5Yik5patdG9rZW7mmK/lkKbov4fmnJ8KICAgICAgICAgIF90aGlzMy5pc1Rva2VuKHJlcyk7CgogICAgICAgICAgaWYgKHJlcy5jb2RlID09IDIwMCkgewogICAgICAgICAgICBFbE1lc3NhZ2Uuc3VjY2Vzcyh7CiAgICAgICAgICAgICAgbWVzc2FnZTogIuS/neWtmOaIkOWKn++8gSIsCiAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgICAgIH0pOyAvL+WPquacieS/neWtmOivleWNt+aJjei3s+i9rAoKICAgICAgICAgICAgaWYgKHZhbHVlID09IDApIHsKICAgICAgICAgICAgICBfdGhpczMuJHJvdXRlci5wdXNoKCIvZXhhbUxpc3QiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgRWxNZXNzYWdlLndhcm5pbmcoewogICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tc2csCiAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIEVsTWVzc2FnZS5lcnJvcigi57O757uf5byC5bi4LOS/neWtmOWksei0pe+8gSIpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIEVsTWVzc2FnZS53YXJuaW5nKHsKICAgICAgICAgIG1lc3NhZ2U6ICLor7flhYjmt7vliqDpopjnm64iLAogICAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvL+e8lui+keivleWNty0tLeiOt+WPluivleWNt+S/oeaBrwogICAgZ2V0VGVzdFBhcGVyOiBmdW5jdGlvbiBnZXRUZXN0UGFwZXIoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgaWQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJleGFtSWQiKTsKICAgICAgICAgICAgICAgIHJlcXVlc3QucG9zdCgiL2V4YW0vZWRpdEV4YW1EZWZhdWx0IiwgaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICAvL+WIpOaWrXRva2Vu5piv5ZCm6L+H5pyfCiAgICAgICAgICAgICAgICAgIF90aGlzNC5pc1Rva2VuKHJlcyk7CgogICAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHRlc3REYXRhID0gcmVzLmRhdGU7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM0LmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgIH0gLy/lpITnkIbor5XljbfnmoTpopjnm67mlbDmja4KCgogICAgICAgICAgICAgICAgICB0ZXN0RGF0YS50b3BpY3MuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnRvcGljVHlwZSA9PSA0IHx8IGl0ZW0udG9waWNUeXBlID09IDMgfHwgaXRlbS50b3BpY1R5cGUgPT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgaXRlbS5hbnN3ZXIgPSBpdGVtLmFuc3dlci5zcGxpdCgifCIpOwogICAgICAgICAgICAgICAgICAgIH0gLy/mjInmjaLooYznrKbliIblibLlrZfnrKbkuLIKCgogICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm9wdGlvbnNzICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ub3B0aW9uc3MgPSBpdGVtLm9wdGlvbnNzLnNwbGl0KCJ8Iik7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB2YXIgZGlzYWJsZXMgPSBbXTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0udG9waWNUeXBlID09IDApIHsKICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbS5vcHRpb25zcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5hbnN3ZXIgPT09IGl0ZW0ub3B0aW9uc3NbaV0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlc1tpXSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZXNbaV0gPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS50b3BpY1R5cGUgPT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBpdGVtLmFuc3dlci5sZW5ndGg7IGsrKykgewogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBpdGVtLm9wdGlvbnNzLmxlbmd0aDsgX2kyKyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5hbnN3ZXJba10gPT09IGl0ZW0ub3B0aW9uc3NbX2kyXSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZXNbX2kyXSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIGl0ZW0uZGlzYWJsZWRzID0gZGlzYWJsZXM7CiAgICAgICAgICAgICAgICAgIH0pOyAvL+i1i+WAvOaVsOaNrgoKICAgICAgICAgICAgICAgICAgX3RoaXM0LnRlc3REYXRhID0gdGVzdERhdGE7IC8vdmFsdWUg6K+V5Y2357G75Z6LCgogICAgICAgICAgICAgICAgICBfdGhpczQudmFsdWUgPSBfdGhpczQudGVzdERhdGEuc3ViamVjdElkOyAvL3JlbGVhc2VZbiDmmK/lkKblj5HluIMKCiAgICAgICAgICAgICAgICAgIGlmIChfdGhpczQudGVzdERhdGEucmVsZWFzaW5nID09IDApIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczQucmVsZWFzZVluID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczQucmVsZWFzZVluID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIH0gLy/mjInpopjnm67nsbvlnovliIbnsbvlubbkv53lrZgKCgogICAgICAgICAgICAgICAgICB2YXIgdG9waWNzID0gX3RoaXM0LnRlc3REYXRhLnRvcGljczsKCiAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9waWNzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgLy/popjnm67mlbDnu4QgIHNvcnRlZFRvcGljcwogICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihfdGhpczQuc29ydGVkVG9waWNzKSwKICAgICAgICAgICAgICAgICAgICAgICAgX3N0ZXA7CgogICAgICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IF9zdGVwLnZhbHVlOwoKICAgICAgICAgICAgICAgICAgICAgICAgLy9zb3J0ZWRUb3BpY3M6IFt7IHR5cGU6IDAsIHRvcGljX2NvbnRlbnQ6IFtdLCBzY29yZTogMCwgc2hvd0FsbFNjb3JlOiBmYWxzZSB9XQogICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9waWNzW2ldLnRvcGljVHlwZSA9PSBpdGVtLnR5cGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnRvcGljX2NvbnRlbnQucHVzaCh0b3BpY3NbaV0pOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvL+e7n+S4gOiuvue9ruWNleS4quexu+Wei+mimOebruWIhuaVsAogICAgc2V0QWxsU2NvcmU6IGZ1bmN0aW9uIHNldEFsbFNjb3JlKHZhbCwgdHlwZSkgewogICAgICB2YWwgPSBwYXJzZUludCh2YWwpOwogICAgICB0aGlzLnNvcnRlZFRvcGljc1t0eXBlXS50b3BpY19jb250ZW50LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBpdGVtLnNjb3JlID0gdmFsOwogICAgICB9KTsKICAgIH0sCiAgICAvL+iuvue9ruW9k+WJjee8lui+keS4reeahOmimOebrgogICAgZWRpdDogZnVuY3Rpb24gZWRpdCh0eXBlLCBpbmRleCkgewogICAgICBpZiAodGhpcy5lZGl0SW5lZHgudHlwZSA9PSB0eXBlICYmIHRoaXMuZWRpdEluZWR4LmluZGV4ID09IGluZGV4KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmVkaXRJbmVkeC50eXBlID0gdHlwZTsKICAgICAgdGhpcy5lZGl0SW5lZHguaW5kZXggPSBpbmRleDsKICAgIH0sCiAgICAvL+aYr+WQpuWcqOe8lui+keeKtuaAgQogICAgaXNFZGl0OiBmdW5jdGlvbiBpc0VkaXQodHlwZSwgaW5kZXgpIHsKICAgICAgdmFyIGlucHV0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAtMjsKCiAgICAgIGlmICh0aGlzLmVkaXRJbmVkeC50eXBlID09IHR5cGUgJiYgdGhpcy5lZGl0SW5lZHguaW5kZXggPT0gaW5kZXggJiYgdGhpcy5lZGl0SW5lZHguaW5wdXQgPT0gaW5wdXQpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICAvL+a7muWKqOS6i+S7tgogICAgaGFuZGxlU2Nyb2xsOiBmdW5jdGlvbiBoYW5kbGVTY3JvbGwoKSB7CiAgICAgIHZhciBzY3JvbGxUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDsgLy8g5rua5Yqo5p2h5YGP56e76YePCgogICAgICBpZiAoc2Nyb2xsVG9wID4gMTU0KSB7CiAgICAgICAgdGhpcy50b3BpY19uYXZfc3R5bGUgPSAidG9wOiIgKyAoc2Nyb2xsVG9wICsgMjApICsgInB4IjsKICAgICAgICB0aGlzLmlzRml4ZWQgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaXNGaXhlZCA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgLy/ngrnlh7vpopjlj7flr7zoiKrot7PovawKICAgIHRvcGljTmF2OiBmdW5jdGlvbiB0b3BpY05hdih0eXBlLCBpbmRleCkgewogICAgICB2YXIgdG90YWxJbmRleCA9IHRoaXMudG9waWNOYXZJbmRleF9taXhpbih0eXBlLCBpbmRleCkgLSAxOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJ0b3BpYy1jb250ZW50IilbdG90YWxJbmRleF0uc2Nyb2xsSW50b1ZpZXcoewogICAgICAgICAgYmVoYXZpb3I6ICJzbW9vdGgiCiAgICAgICAgfSk7CiAgICAgIH0sIDEwMCk7CiAgICAgIHRoaXMuZWRpdCh0eXBlLCBpbmRleCk7CiAgICB9LAogICAgLy/mlrDlu7rpopjnm64KICAgIG5ld1RvcGljOiBmdW5jdGlvbiBuZXdUb3BpYyh0eXBlKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdGhpcy5zb3J0ZWRUb3BpY3NbdHlwZV0udG9waWNfY29udGVudC5wdXNoKHsKICAgICAgICB0b3BpY1R5cGU6IHR5cGUsCiAgICAgICAgcXVlc3Rpb246ICI8cD7popjnm648YnI+PC9wPiIsCiAgICAgICAgb3B0aW9uc3M6IFsi6YCJ6aG5MSIsICLpgInpobkyIiwgIumAiemhuTMiLCAi6YCJ6aG5NCJdLAogICAgICAgIGFuc3dlcjogW10sCiAgICAgICAgYW5hbHlzaXM6ICI8cD7nrZTmoYjliIbmnpA8YnI+PC9wPiIsCiAgICAgICAgZGlmZmljdWx0eTogIueugOWNlSIsCiAgICAgICAgc2NvcmU6IDEwLAogICAgICAgIHN1YmplY3RJZDogIjEiLAogICAgICAgIGRpc2FibGVkczogW2ZhbHNlLCBmYWxzZSwgZmFsc2UsIGZhbHNlXQogICAgICB9KTsKICAgICAgdmFyIHRpbWUgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczUudG9waWNOYXYodHlwZSwgX3RoaXM1LnNvcnRlZFRvcGljc1t0eXBlXS50b3BpY19jb250ZW50Lmxlbmd0aCAtIDEpOwoKICAgICAgICBjbGVhckludGVydmFsKHRpbWUpOwogICAgICB9LCAxMDApOwogICAgfSwKICAgIC8v5Yig6Zmk5b2T5YmN5q2j5Zyo57yW6L6R55qE6aKY55uuCiAgICBkZWxUb3BpYzogZnVuY3Rpb24gZGVsVG9waWMoKSB7CiAgICAgIHZhciB0eXBlID0gdGhpcy5lZGl0SW5lZHgudHlwZTsKICAgICAgdmFyIGluZGV4ID0gdGhpcy5lZGl0SW5lZHguaW5kZXg7CiAgICAgIHRoaXMuc29ydGVkVG9waWNzW3R5cGVdLnRvcGljX2NvbnRlbnQuc3BsaWNlKGluZGV4LCAxKTsKICAgIH0sCiAgICAvL+S4iuenu+aIluS4i+enu+W9k+WJjeato+WcqOe8lui+keeahOmimOebriAgLTE65LiK56e7ICAgMTrkuIvnp7sKICAgIG1vdmVUb3BpYzogZnVuY3Rpb24gbW92ZVRvcGljKG4pIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB2YXIgdHlwZSA9IHRoaXMuZWRpdEluZWR4LnR5cGU7CiAgICAgIHZhciBpbmRleCA9IHRoaXMuZWRpdEluZWR4LmluZGV4OwoKICAgICAgaWYgKGluZGV4ID09IDAgJiYgbiA9PSAtMSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKGluZGV4ID09IHRoaXMuc29ydGVkVG9waWNzW3R5cGVdLnRvcGljX2NvbnRlbnQubGVuZ3RoIC0gMSAmJiBuID09IDEpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciB0b3BpYyA9IHRoaXMuc29ydGVkVG9waWNzW3R5cGVdLnRvcGljX2NvbnRlbnRbaW5kZXhdOwogICAgICB2YXIgdXBUb3BpYyA9IHRoaXMuc29ydGVkVG9waWNzW3R5cGVdLnRvcGljX2NvbnRlbnRbaW5kZXggKyBuXTsKICAgICAgdGhpcy5zb3J0ZWRUb3BpY3NbdHlwZV0udG9waWNfY29udGVudC5zcGxpY2UoaW5kZXgsIDEsIHVwVG9waWMpOwogICAgICB0aGlzLnNvcnRlZFRvcGljc1t0eXBlXS50b3BpY19jb250ZW50LnNwbGljZShpbmRleCArIG4sIDEsIHRvcGljKTsKICAgICAgdmFyIHRpbWUgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczYudG9waWNOYXYodHlwZSwgaW5kZXggKyBuLCAxMCk7CgogICAgICAgIGNsZWFySW50ZXJ2YWwodGltZSk7CiAgICAgIH0sIDEwMCk7CiAgICB9LAogICAgLy/liKDpmaTpgInpobkKICAgIGRlbFJhZGlvczogZnVuY3Rpb24gZGVsUmFkaW9zKHR5cGUsIHRJbmRleCwgaW5kZXgpIHsKICAgICAgdGhpcy5zb3J0ZWRUb3BpY3NbdHlwZV0udG9waWNfY29udGVudFt0SW5kZXhdLm9wdGlvbnNzLnNwbGljZShpbmRleCwgMSk7CiAgICB9LAogICAgLy/mt7vliqDpgInpobkKICAgIGFkZFJhZGlvczogZnVuY3Rpb24gYWRkUmFkaW9zKHR5cGUsIHRJbmRleCkgewogICAgICB2YXIgb3B0aW9uTGVuZ3RoID0gdGhpcy5zb3J0ZWRUb3BpY3NbdHlwZV0udG9waWNfY29udGVudFt0SW5kZXhdLm9wdGlvbnNzLmxlbmd0aCArIDE7CgogICAgICBpZiAob3B0aW9uTGVuZ3RoID4gMTApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6ICLkuI3og73lho3mt7vliqDpgInpobnkuobllpQhIiwKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICAgIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5zb3J0ZWRUb3BpY3NbdHlwZV0udG9waWNfY29udGVudFt0SW5kZXhdLm9wdGlvbnNzLnB1c2goIumAiemhuSIgKyBvcHRpb25MZW5ndGgpOyAvL+a3u+WKoOemgeeUqAoKICAgICAgdGhpcy5zb3J0ZWRUb3BpY3NbdHlwZV0udG9waWNfY29udGVudFt0SW5kZXhdLmRpc2FibGVkcy5wdXNoKGZhbHNlKTsKICAgIH0sCiAgICAvL+a3u+WKoOWFs+mUruWtlwogICAgYWRkS2V5V29yZDogZnVuY3Rpb24gYWRkS2V5V29yZCh0SW5kZXgpIHsKICAgICAgdGhpcy5zb3J0ZWRUb3BpY3NbNF0udG9waWNfY29udGVudFt0SW5kZXhdLmFuc3dlci5wdXNoKCIiKTsKICAgIH0sCiAgICBpc1Rva2VuOiBmdW5jdGlvbiBpc1Rva2VuKHJlcykgewogICAgICBpZiAocmVzID09PSAiIikgewogICAgICAgIEVsTWVzc2FnZS5lcnJvcigidG9rZW7lt7Lov4fmnJ8s6K+36YeN5paw55m75b2VISIpOyAvL+a4heepunRva2VuCgogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ0b2tlbiIpOyAvL+a4hemZpHNlc3Npb24KCiAgICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgicGhvbmUiKTsgLy/ot7PovaznmbvlvZXpobXpnaIKCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/sw/Documents/examSystem/exams/exam-admin/src/views/EditExam.vue"],"names":[],"mappings":"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","sourcesContent":["<template >\n  <el-dialog :title=\"titles\" v-model=\"centerDialogVisible\" width=\"40%\">\n    <div ref=\"editorContainer\"></div>\n    <template #footer>\n      <span class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"centerDialogVisible = false\">确 定</el-button>\n        <el-button type=\"danger\" @click=\"centerDialogVisible = false,clearFwb()\">清除</el-button>\n      </span>\n    </template>\n  </el-dialog>\n  <div class=\"createTest testPaper \" @click.self=\"edit(-1,-1)\" style=\"margin: 10px 0;width: 100%\" v-loading=\"loading\">\n    <div>\n      <!-- 试卷信息 -->\n      <div class=\"title\">\n        <el-row :gutter=\"20\">\n          <el-col style=\"max-width:100px\">\n            试卷名称:\n          </el-col>\n          <el-col style=\"max-width:300px\">\n            <el-input clearable v-model=\"testData.examName\" placeholder=\"请输入试卷名称\" class=\"inputs\"></el-input>\n          </el-col>\n          <el-col style=\"max-width:100px\">\n            试卷类型:\n          </el-col>\n          <el-col style=\"max-width:300px\">\n            <el-select v-model=\"value\" clearable placeholder=\"请选择\" class=\"inputs\">\n              <el-option v-for=\"item in options\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\n              </el-option>\n            </el-select>\n          </el-col>\n          <el-col style=\"max-width:100px\">\n            是否发布:\n          </el-col>\n          <el-col style=\"max-width:300px\">\n            <el-switch v-model=\"releaseYn\" active-color=\"#13ce66\" inactive-color=\"#ff4949\" />\n          </el-col>\n        </el-row>\n\n        <ul>\n          <li class=\"test-info\">出卷者: {{ testData.creatorName }}</li>\n          <li class=\"test-info\">\n            答题时间:\n            <el-input-number v-model=\"testData.time\" controls-position=\"right\" :step=\"10\" size=\"mini\" :min=\"1\" />\n            分钟\n          </li>\n          <li class=\"test-info\">题目数量: 共 {{ topicNavIndex_mixin(5,sortedTopics[5].topic_content.length-1) }} 道</li>\n          <li class=\"test-info\">总分: {{ totalScore }} 分</li>\n          <li class=\"test-info\">\n            及格分数:\n            <el-input-number v-model=\"testData.passMark\" controls-position=\"right\" :step=\"1\" size=\"mini\" :min=\"1\" />\n            分\n          </li>\n          <li style=\" list-style-type: none;\">\n            <el-button size=\"mini\" type=\"success\" @click=\"submit(0)\">保存试卷</el-button>\n            <el-button size=\"mini\" type=\"info\" @click=\"reset()\">重置试卷</el-button>\n          </li>\n        </ul>\n      </div>\n      <!-- sortedTopics 题库数组  click.self 进行阻止事件冒泡 -->\n      <div class=\"test-content\" @click.self=\"edit(-1,-1)\">\n        <div class=\"topics\">\n          <!-- 所有题目 -->\n          <div class=\"topic\" v-for=\"(s_topics, index) in sortedTopics\" :key=\"index\">\n            <!-- 按类型分类好的题目 -->\n            <div class=\"topicsType\" v-if=\"s_topics.topic_content.length != 0\">\n              <div class=\"bigQuestionName\">\n                <h4> {{bigQuestionName_mixin(s_topics.type,index)}} </h4>\n                <!-- 题目类型名称 -->\n                <div class=\"allScore\">\n                  <button :class=\"s_topics.showAllScore? 'active':''\" @click=\"s_topics.showAllScore = !s_topics.showAllScore\">统一设置题目分数</button>\n                  <el-input v-if=\"s_topics.showAllScore\" @change=\"setAllScore($event,s_topics.type)\" v-model=\"s_topics.score\" placeholder=\"请输入分数\"></el-input>\n                </div>\n              </div>\n\n              <div v-for=\"(t, tIndex) in s_topics.topic_content\" :key=\"tIndex\" @click=\"edit(s_topics.type,tIndex)\">\n                <div class=\"topic-content\" :class=\"isEdit(s_topics.type,tIndex)?'isEdit':''\">\n                  <!-- 题目 -->\n                  <div class=\"question\">\n                    <el-row>\n                      <el-col style=\"max-width: 30px;\">\n                        <strong class=\"question_nunber\">{{ topicNavIndex_mixin(s_topics.type,tIndex) }}、</strong>\n                      </el-col>\n                      <el-col :span=\"22\">\n                        <span v-if=\"isEdit(s_topics.type,tIndex)\">\n                          <el-input v-model=\"t.question\" type=\"textarea\" autosize @click=\"codeFwbEdit(tIndex,s_topics.type,0)\"></el-input>\n                        </span>\n                        <span v-else>\n                          <div v-html=\"t.question \"></div>\n                        </span>\n                      </el-col>\n                    </el-row>\n                  </div>\n\n                  <!-- 单项选择题 -->\n                  <div class=\"userAnswer\" v-if=\"s_topics.type==0\">\n                    <div class=\"radios\">\n                      <el-radio @change=\"checked=>disableRow(checked,0,tIndex,index)\" v-for=\"(item, index) in t.optionss\" :key=\"index\" v-model=\"t.answer\" :label=\"item\">\n                        <span class=\"topicNavIndex\">{{String.fromCharCode(65+index)}}、</span>\n                        <span v-if=\"editInedx.type==0&&editInedx.index==tIndex\">\n                          <el-input v-model=\"t.optionss[index]\" type=\"textarea\" autosize :disabled=\"t.disableds[index]\"></el-input>\n                          <el-button class=\"delRadios\" size=\"mini\" type=\"danger\" v-if=\"t.optionss.length>2\" @click=\"delRadios(0,tIndex,index)\" :disabled=\"t.disableds[index]\">\n                            <i class=\"el-icon-close\"></i>\n                          </el-button>\n                        </span>\n                        <span v-else>{{item}}</span>\n                      </el-radio>\n                    </div>\n                    <el-button class=\"addRadios\" size=\"mini\" icon=\"el-icon-plus\" @click=\"addRadios(s_topics.type,tIndex)\">添加选项</el-button>\n                  </div>\n\n                  <!-- 多项选择题 -->\n                  <div class=\"userAnswer\" v-if=\"s_topics.type==1\">\n                    <div class=\"checkbox\">\n                      <el-checkbox-group v-model=\"t.answer\">\n                        <!-- t.answer -->\n                        <el-checkbox @change=\"checked=>disableRow(checked,1,tIndex,index)\" :label=\"item\" v-for=\"(item, index) in t.optionss\" :key=\"index\">\n                          <span class=\"topicNavIndex\">{{String.fromCharCode(65+index)}}、</span>\n                          <span v-if=\"editInedx.type==1&&editInedx.index==tIndex\">\n                            <el-input v-model=\"t.optionss[index]\" type=\"textarea\" autosize :disabled=\"t.disableds[index]\"></el-input>\n                            <el-button class=\"delRadios\" size=\"mini\" type=\"danger\" v-if=\"t.optionss.length>2\" @click=\"delRadios(1,tIndex,index)\" :disabled=\"t.disableds[index]\">\n                              <i class=\"el-icon-close\"></i>\n                            </el-button>\n                          </span>\n                          <span v-else>{{item}}</span>\n                        </el-checkbox>\n                      </el-checkbox-group>\n                    </div>\n                    <el-button class=\"addRadios\" size=\"mini\" icon=\"el-icon-plus\" @click=\"addRadios(s_topics.type,tIndex)\">添加选项</el-button>\n                  </div>\n\n                  <!-- 判断题 -->\n                  <div class=\"userAnswer\" v-if=\"s_topics.type==2\">\n                    <div class=\"TrueOrFalse\">\n                      <el-radio v-model=\"t.answer\" label=\"true\">正确</el-radio>\n                      <el-radio v-model=\"t.answer\" label=\"false\">错误</el-radio>\n                    </div>\n                  </div>\n\n                  <!-- 填空题 -->\n                  <div class=\"userAnswer\" v-if=\"s_topics.type==3\">\n                    <div class=\"fillInBlank\">\n                      <div v-for=\"(q, index) in fillSymbolStr(t.question)\" :key=\"index\">\n                        <el-input type=\"textarea\" autosize placeholder=\"请回答\" v-if=\"index!=fillSymbolStr(t.question).length-1\" v-model=\"t.answer[index]\">\n                        </el-input>\n                      </div>\n                    </div>\n                  </div>\n\n                  <!-- 简答题 -->\n                  <div class=\"userAnswer\" v-if=\"s_topics.type==4\">\n                    <div class=\"text\">\n                      <strong>&nbsp;&nbsp;关键字</strong>\n                      <div v-for=\"(q, index) in t.answer\" :key=\"index\">\n                        <el-input type=\"textarea\" autosize placeholder=\"请输入关键字\" v-model=\"t.answer[index]\"> </el-input>\n                      </div>\n                      <el-button class=\"addRadios\" size=\"mini\" icon=\"el-icon-plus\" @click=\"addKeyWord(tIndex)\">添加关键字</el-button>\n                    </div>\n                  </div>\n\n                  <!-- 代码题 -->\n                  <div class=\"userAnswer\" v-if=\"s_topics.type==5\">\n                    <el-input style=\"margin-left: 26px\" type=\"textarea\" placeholder=\"请输入答案\" autosize @click=\"codeFwbEdit(tIndex,s_topics.type,1)\"></el-input>\n                  </div>\n                  <!-- 正确答案 -->\n                  <div class=\"answer\">\n                    <el-row>\n                      <el-col style=\"max-width: 80px;\">\n                        <strong>正确答案: </strong>\n                      </el-col>\n                      <el-col :span=\"22\">\n                        <div v-html=\"t.answer\"></div>\n                      </el-col>\n                    </el-row>\n                  </div>\n                  <div>\n                    <div class=\"difficulty\">\n                      <strong>难度: </strong>\n                      <span v-if=\"isEdit(s_topics.type,tIndex)\">\n                        <el-select v-model=\"t.difficulty\" placeholder=\"请选择\" size=\"mini\">\n                          <el-option v-for=\"item in topicDifficultyOptions\" :key=\"item\" :label=\"item\" :value=\"item\">\n                          </el-option>\n                        </el-select>\n                      </span>\n                      <span v-else>{{t.difficulty}}</span>\n                    </div>\n                    <div class=\"topicScore\">\n                      <strong>分值: </strong>\n                      <span v-if=\"isEdit(s_topics.type,tIndex)\">\n                        <el-input-number v-model=\"t.score\" controls-position=\"right\" :step=\"1\" size=\"mini\" :min=\"0\" />\n                      </span>\n                      <span v-else>{{t.score}}</span>\n                      (分)\n                    </div>\n                  </div>\n                  <div class=\"analysis\">\n                    <el-row>\n                      <el-col :span=\"2\">\n                        <strong>题目解析: </strong>\n                      </el-col>\n                      <el-col :span=\"23\">\n                        <span v-if=\"isEdit(s_topics.type,tIndex)\">\n                          <el-input type=\"textarea\" autosize @click=\"codeFwbEdit(tIndex,s_topics.type,2)\" :value='correctAnswer(t.analysis)'></el-input>\n                        </span>\n                        <span v-else>\n                          <div v-html=\"t.analysis \"></div>\n                        </span>\n                      </el-col>\n                    </el-row>\n                  </div>\n\n                </div>\n                <el-divider></el-divider>\n              </div>\n\n            </div>\n          </div>\n\n        </div>\n\n        <!-- 题目导航 -->\n        <div class=\"topic-nav\" :class=\"isFixed ? 'isFixed' : ''\" :style=\"topic_nav_style\">\n          <!-- 工具 -->\n          <div class=\"tool\">\n            <transition name=\"el-zoom-in-top\">\n              <div>\n                <el-button v-show=\"!isEdit(-1,-1)\" icon=\"el-icon-top\" title=\"上移\" @click=\"moveTopic(-1)\"></el-button>\n                <el-button v-show=\"!isEdit(-1,-1)\" icon=\"el-icon-bottom\" title=\"下移\" @click=\"moveTopic(1)\"></el-button>\n                <el-button v-show=\"!isEdit(-1,-1)\" type=\"danger\" icon=\"el-icon-delete\" title=\"删除\" @click=\"delTopic()\"></el-button>\n                <el-button type=\"success\" icon=\"el-icon-folder-add\" title=\"保存\" @click=\"submit(1)\"></el-button>\n              </div>\n            </transition>\n          </div>\n\n          <!-- 导航按钮 右侧添加题型-->\n          <ul v-for=\"(topics, Topics_index) in sortedTopics\" :key=\"Topics_index\">\n            <li class=\"topic-nav-item\" @click.self=\"edit(-1,-1)\">\n              <div class=\"nav-title\">{{topicTypeName_mixin(topics.type)}}</div>\n              <span class=\"topic-nav-button\" :class=\"editInedx.type==topics.type\" v-for=\"(item , index) in topics.topic_content\" :key=\"index\" @click=\"topicNav(Topics_index,index)\">\n                {{topicNavIndex_mixin(Topics_index,index)}}\n              </span>\n\n              <span class=\"topic-nav-button\" @click=\"newTopic(topics.type)\">\n                <i class=\"el-icon-plus\"></i>\n              </span>\n            </li>\n          </ul>\n        </div>\n      </div>\n\n      <div class=\"back-top\" @click=\"backTop_mixin()\">\n        <i class=\"el-icon-arrow-up\"></i>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport \"@/assets/less/testPaper.less\";\nimport testPaperMixin from \"@/mixins/testPaper-mixin\";\nimport { ElMessage } from \"element-plus\";\nimport request from \"@/utils/request\";\nimport { createEditor } from \"@textbus/textbus\";\nimport \"@textbus/textbus/bundles/textbus.min.css\";\nexport default {\n  inject: [\"reload\"],\n  name: \"EditExam\",\n  mixins: [testPaperMixin],\n  data() {\n    return {\n      loading: false,\n      //标题\n      titles: \"提示\",\n      //富文本对象\n      editors: null,\n      //富文本模态框\n      centerDialogVisible: false,\n      //选项锁定标识\n      disabled: true,\n      //按题目类型分类好的题目数据\n      //题目类型==>  0:单选题  1:多选题  2:判断题  3:填空题  4:简答题 5:代码题\n      sortedTopics: [\n        { type: 0, topic_content: [], score: 0, showAllScore: false },\n        { type: 1, topic_content: [], score: 0, showAllScore: false },\n        { type: 2, topic_content: [], score: 0, showAllScore: false },\n        { type: 3, topic_content: [], score: 0, showAllScore: false },\n        { type: 4, topic_content: [], score: 0, showAllScore: false },\n        { type: 5, topic_content: [], score: 0, showAllScore: false },\n      ],\n\n      //试卷数据\n      testData: {\n        examId: -1,\n        examName: \"\", //试卷名称\n        time: \"\", //答题时间\n        topicNum: \"\", //题目数量\n        passMark: \"\", //及格分数\n        creatorName: \"\", //创建者\n        releasing: \"\", //是否发布\n        subjectId: \"\", //类型id\n      },\n\n      //当前编辑的题目索引\n      editInedx: {\n        type: \"-1\",\n        index: \"-1\",\n        input: \"-2\",\n      },\n\n      topicDifficultyOptions: [\"简单\", \"中等\", \"困难\"], //题目难度选项\n\n      //侧导航栏是否悬浮\n      isFixed: false,\n      topic_nav_style: \"top:0px\",\n      options: [],\n      value: \"\",\n      releaseYn: false,\n    };\n  },\n\n  computed: {\n    params() {\n      return this.$route.params;\n    },\n    //试卷总分\n    totalScore() {\n      var score = 0;\n      this.sortedTopics.forEach((element) => {\n        element.topic_content.forEach((item) => {\n          score += parseInt(item.score);\n        });\n      });\n      this.testData.totalScore = score;\n      return score;\n    },\n\n    //按填空符\n    fillSymbolStr() {\n      return function (str) {\n        var q = str.split(\"[]\");\n        return q;\n      };\n    },\n  },\n\n  created() {\n    this.loading = true;\n    let phone = sessionStorage.getItem(\"phone\");\n    request.post(\"/exam/createExamDefault\",phone).then((res) => {\n      //初始化类型\n      for (let i = 0; i < res.date.subjects.length; i++) {\n        this.options.push({\n          value: res.date.subjects[i].id,\n          label: res.date.subjects[i].subjectName,\n        });\n      }\n    });\n    this.getTestPaper();\n  },\n\n  mounted() {\n    // 监听滚动事件，然后用handleScroll这个方法进行相应的处理\n    window.addEventListener(\"scroll\", this.handleScroll);\n  },\n\n  methods: {\n    //使用取消按钮清空富文本\n    clearFwb() {\n      this.editors.setContents(\"\");\n    },\n    codeFwbEdit(tIndex, type, flage) {\n      let that = this;\n      //如果富文本不为空就销毁\n      if (this.editors != null) {\n        this.editors.destroy();\n      }\n      //打开模态框\n      this.centerDialogVisible = true;\n      //创建富文本\n      if (flage === 1) {\n        this.titles = \"代码题答案\";\n        this.$nextTick(() => {\n          const editor = createEditor(this.$refs.editorContainer, {\n            uploader(uploadType, prevValue) {\n              switch (uploadType) {\n                case \"image\": // 图片\n                  return that.uploadImage();\n                  break;\n                case \"video\": // 视频\n                  ElMessage.error(\"暂不支持上传视频！\");\n                  break;\n                case \"audio\":\n                  ElMessage.error(\"暂不支持上传音频！\");\n                  break;\n              }\n            },\n          });\n          let html = this.sortedTopics[type].topic_content[tIndex].answer;\n          if (html != null || html != undefined) {\n            editor.setContents(html);\n          }\n          editor.onChange.subscribe(() => {\n            this.sortedTopics[5].topic_content[tIndex].answer =\n              editor.getContents().content;\n          });\n          this.editors = editor;\n        });\n      } else if (flage === 2) {\n        this.titles = \"题目解析\";\n        this.$nextTick(() => {\n          const editor = createEditor(this.$refs.editorContainer, {\n            uploader(uploadType, prevValue) {\n              switch (uploadType) {\n                case \"image\": // 图片\n                  return that.uploadImage();\n                  break;\n                case \"video\": // 视频\n                  ElMessage.error(\"暂不支持上传视频！\");\n                  break;\n                case \"audio\":\n                  ElMessage.error(\"暂不支持上传音频！\");\n                  break;\n              }\n            },\n          });\n          let html = this.sortedTopics[type].topic_content[tIndex].analysis;\n          if (html != null || html != undefined) {\n            editor.setContents(html);\n          }\n          editor.onChange.subscribe(() => {\n            this.sortedTopics[type].topic_content[tIndex].analysis =\n              editor.getContents().content;\n          });\n          this.editors = editor;\n        });\n      } else {\n        //题目\n        this.titles = \"题目编辑(填空题[]代表一个填空)\";\n        this.$nextTick(() => {\n          const editor = createEditor(this.$refs.editorContainer, {\n            uploader(uploadType, prevValue) {\n              switch (uploadType) {\n                case \"image\": // 图片\n                  return that.uploadImage();\n                  break;\n                case \"video\": // 视频\n                  ElMessage.error(\"暂不支持上传视频！\");\n                  break;\n                case \"audio\":\n                  ElMessage.error(\"暂不支持上传音频！\");\n                  break;\n              }\n            },\n          });\n          let html = this.sortedTopics[type].topic_content[tIndex].question;\n          if (html != null || html != undefined) {\n            editor.setContents(html);\n          }\n          editor.onChange.subscribe(() => {\n            this.sortedTopics[type].topic_content[tIndex].question =\n              editor.getContents().content;\n          });\n          this.editors = editor;\n        });\n      }\n    },\n    //上传图片\n    uploadImage() {\n      var that = this;\n      var fileInput = document.createElement(\"input\");\n      fileInput.setAttribute(\"type\", \"file\");\n      fileInput.setAttribute(\n        \"accept\",\n        \"image/png, image/jpg, image/jpeg, image/gif\"\n      );\n      fileInput.style.cssText =\n        \"position: absolute; left: -9999px; top: -9999px; opacity: 0\";\n      var promise = new Promise(function (resolve) {\n        fileInput.addEventListener(\"change\", function (event) {\n          var form = new FormData();\n          var files = event.target.files;\n          for (var i = 0; i < files.length; i++) {\n            form.append(\"file\", files[i]);\n          }\n          document.body.removeChild(fileInput);\n          //上传接口\n          request\n            .post(\"/file/uploadImage\", form)\n            .then((res) => {\n              //判断token是否过期\n              that.isToken(res);\n              if (res.code == 200) {\n                resolve(res.date);\n                ElMessage.success({\n                  message: \"上传成功！\",\n                  type: \"success\",\n                });\n              } else {\n                ElMessage.warning({\n                  message: res.msg,\n                  type: \"warning\",\n                });\n              }\n            })\n            .catch((res) => {\n              ElMessage.error(\"系统异常,上传失败！\");\n            });\n        });\n      });\n      document.body.appendChild(fileInput);\n      fileInput.click();\n      return promise;\n    },\n    disableRow(checked, type, tIndex, index) {\n      if (type === 0) {\n        let dis = this.sortedTopics[type].topic_content[tIndex].disableds;\n        for (let k = 0; k < dis.length; k++) {\n          this.sortedTopics[type].topic_content[tIndex].disableds[k] = false;\n        }\n        this.sortedTopics[type].topic_content[tIndex].disableds[index] = true;\n      } else {\n        this.sortedTopics[type].topic_content[tIndex].disableds[index] =\n          checked;\n      }\n    },\n    //重置试卷\n    reset() {\n      //刷新页面\n      this.reload();\n    },\n    //提交试卷\n    submit(value) {\n      /*  处理题目信息 */\n      var topicData = [];\n      this.sortedTopics.forEach((element) => {\n        if (element.topic_content.length != 0) {\n          element.topic_content.forEach((item) => {\n            //深拷贝\n            var newItem = JSON.parse(JSON.stringify(item));\n            topicData.push(newItem);\n          });\n        }\n      });\n      //处理选择题选项\n      topicData.forEach((item) => {\n        var optionss = \"\";\n        if (item.optionss != null) {\n          for (let i = 0; i < item.optionss.length; i++) {\n            if (i == item.optionss.length - 1) {\n              optionss += item.optionss[i];\n            } else {\n              optionss += item.optionss[i] + \"|\";\n            }\n          }\n          item.optionss = optionss; //选项\n        }\n      });\n\n      //处理正确答案\n      for (let item of topicData) {\n        if (item.answer.length === 0) {\n          ElMessage.error(\"有题目未选答案！\");\n          return;\n        }\n        //判断是数组或者普通答案\n        var answer = \"\";\n        if (item.answer instanceof Array) {\n          for (let i = 0; i < item.answer.length; i++) {\n            if (i == item.answer.length - 1) {\n              answer += item.answer[i];\n            } else {\n              answer += item.answer[i] + \"|\";\n            }\n          }\n        } else {\n          answer = item.answer;\n        }\n        item.answer = answer;\n      }\n\n      //处理试卷信息\n      var testData = JSON.parse(JSON.stringify(this.testData));\n\n      testData.topics = topicData;\n      testData.subjectId = this.value;\n      testData.topicNum = topicData.length;\n      if (this.releaseYn) {\n        testData.releasing = 0;\n      } else {\n        testData.releasing = 1;\n      }\n      var data = {\n        ...testData,\n      };\n      //判断是否有题\n      if (topicData.length != 0) {\n        request\n          .post(\"/exam/updateExam\", data)\n          .then((res) => {\n            //判断token是否过期\n            this.isToken(res);\n            if (res.code == 200) {\n              ElMessage.success({\n                message: \"保存成功！\",\n                type: \"success\",\n              });\n              //只有保存试卷才跳转\n              if (value == 0) {\n                this.$router.push(\"/examList\");\n              }\n            } else {\n              ElMessage.warning({\n                message: res.msg,\n                type: \"warning\",\n              });\n            }\n          })\n          .catch((res) => {\n            ElMessage.error(\"系统异常,保存失败！\");\n          });\n      } else {\n        ElMessage.warning({\n          message: \"请先添加题目\",\n          type: \"warning\",\n        });\n      }\n    },\n\n    //编辑试卷---获取试卷信息\n    async getTestPaper() {\n      let id = sessionStorage.getItem(\"examId\");\n      request.post(\"/exam/editExamDefault\",id).then((res) => {\n        //判断token是否过期\n        this.isToken(res);\n        if (res.code == 200) {\n          var testData = res.date;\n          this.loading = false;\n        } else {\n          return;\n        }\n        //处理试卷的题目数据\n        testData.topics.forEach((item) => {\n          if (\n            item.topicType == 4 ||\n            item.topicType == 3 ||\n            item.topicType == 1\n          ) {\n            item.answer = item.answer.split(\"|\");\n          }\n          //按换行符分割字符串\n          if (item.optionss != null) {\n            item.optionss = item.optionss.split(\"|\");\n          }\n          let disables = [];\n          if (item.topicType == 0) {\n            for (let i = 0; i < item.optionss.length; i++) {\n              if (item.answer === item.optionss[i]) {\n                disables[i] = true;\n              } else {\n                disables[i] = false;\n              }\n            }\n          } else if (item.topicType == 1) {\n            for (let k = 0; k < item.answer.length; k++) {\n              for (let i = 0; i < item.optionss.length; i++) {\n                if (item.answer[k] === item.optionss[i]) {\n                  disables[i] = true;\n                  break;\n                }\n              }\n            }\n          }\n          item.disableds = disables;\n        });\n\n        //赋值数据\n        this.testData = testData;\n        //value 试卷类型\n        this.value = this.testData.subjectId;\n        //releaseYn 是否发布\n        if (this.testData.releasing == 0) {\n          this.releaseYn = true;\n        } else {\n          this.releaseYn = false;\n        }\n        //按题目类型分类并保存\n        var topics = this.testData.topics;\n        for (let i = 0; i < topics.length; i++) {\n          //题目数组  sortedTopics\n          for (let item of this.sortedTopics) {\n            //sortedTopics: [{ type: 0, topic_content: [], score: 0, showAllScore: false }]\n            if (topics[i].topicType == item.type) {\n              item.topic_content.push(topics[i]);\n            }\n          }\n        }\n      });\n    },\n\n    //统一设置单个类型题目分数\n    setAllScore(val, type) {\n      val = parseInt(val);\n      this.sortedTopics[type].topic_content.forEach((item) => {\n        item.score = val;\n      });\n    },\n\n    //设置当前编辑中的题目\n    edit(type, index) {\n      if (this.editInedx.type == type && this.editInedx.index == index) {\n        return;\n      }\n      this.editInedx.type = type;\n      this.editInedx.index = index;\n    },\n\n    //是否在编辑状态\n    isEdit(type, index, input = -2) {\n      if (\n        this.editInedx.type == type &&\n        this.editInedx.index == index &&\n        this.editInedx.input == input\n      ) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n\n    //滚动事件\n    handleScroll() {\n      let scrollTop =\n        window.pageYOffset ||\n        document.documentElement.scrollTop ||\n        document.body.scrollTop; // 滚动条偏移量\n      if (scrollTop > 154) {\n        this.topic_nav_style = \"top:\" + (scrollTop + 20) + \"px\";\n        this.isFixed = true;\n      } else {\n        this.isFixed = false;\n      }\n    },\n\n    //点击题号导航跳转\n    topicNav(type, index) {\n      var totalIndex = this.topicNavIndex_mixin(type, index) - 1;\n      setTimeout(() => {\n        document\n          .getElementsByClassName(\"topic-content\")\n          [totalIndex].scrollIntoView({ behavior: \"smooth\" });\n      }, 100);\n      this.edit(type, index);\n    },\n\n    //新建题目\n    newTopic(type) {\n      this.sortedTopics[type].topic_content.push({\n        topicType: type,\n        question: \"<p>题目<br></p>\",\n        optionss: [\"选项1\", \"选项2\", \"选项3\", \"选项4\"],\n        answer: [],\n        analysis: \"<p>答案分析<br></p>\",\n        difficulty: \"简单\",\n        score: 10,\n        subjectId: \"1\",\n        disableds: [false, false, false, false],\n      });\n\n      var time = setTimeout(() => {\n        this.topicNav(type, this.sortedTopics[type].topic_content.length - 1);\n        clearInterval(time);\n      }, 100);\n    },\n\n    //删除当前正在编辑的题目\n    delTopic() {\n      var type = this.editInedx.type;\n      var index = this.editInedx.index;\n      this.sortedTopics[type].topic_content.splice(index, 1);\n    },\n\n    //上移或下移当前正在编辑的题目  -1:上移   1:下移\n    moveTopic(n) {\n      var type = this.editInedx.type;\n      var index = this.editInedx.index;\n\n      if (index == 0 && n == -1) {\n        return;\n      }\n      if (index == this.sortedTopics[type].topic_content.length - 1 && n == 1) {\n        return;\n      }\n\n      var topic = this.sortedTopics[type].topic_content[index];\n      var upTopic = this.sortedTopics[type].topic_content[index + n];\n\n      this.sortedTopics[type].topic_content.splice(index, 1, upTopic);\n      this.sortedTopics[type].topic_content.splice(index + n, 1, topic);\n\n      var time = setTimeout(() => {\n        this.topicNav(type, index + n, 10);\n        clearInterval(time);\n      }, 100);\n    },\n\n    //删除选项\n    delRadios(type, tIndex, index) {\n      this.sortedTopics[type].topic_content[tIndex].optionss.splice(index, 1);\n    },\n\n    //添加选项\n    addRadios(type, tIndex) {\n      var optionLength =\n        this.sortedTopics[type].topic_content[tIndex].optionss.length + 1;\n      if (optionLength > 10) {\n        this.$message({\n          message: \"不能再添加选项了喔!\",\n          type: \"warning\",\n        });\n        return;\n      }\n      this.sortedTopics[type].topic_content[tIndex].optionss.push(\n        \"选项\" + optionLength\n      );\n      //添加禁用\n      this.sortedTopics[type].topic_content[tIndex].disableds.push(false);\n    },\n\n    //添加关键字\n    addKeyWord(tIndex) {\n      this.sortedTopics[4].topic_content[tIndex].answer.push(\"\");\n    },\n    isToken(res) {\n      if (res === \"\") {\n        ElMessage.error(\"token已过期,请重新登录!\");\n        //清空token\n        localStorage.removeItem(\"token\");\n        //清除session\n        sessionStorage.removeItem(\"phone\");\n        //跳转登录页面\n        this.$router.push(\"/\");\n      }\n    },\n  },\n};\n</script>\n<style scoped>\n/* 富文本样式表 */\ndiv /deep/body {\n  word-break: break-word;\n}\ndiv /deep/blockquote {\n  padding: 10px 15px;\n  border-left: 10px solid #dddee1;\n  background-color: #f8f8f9;\n  margin: 1em 0;\n  border-radius: 4px;\n}\ndiv /deep/code,\npre {\n  background-color: #fefefe;\n}\ndiv /deep/pre code {\n  padding: 0;\n  border: none;\n  background: none;\n  border-radius: 0;\n  vertical-align: inherit;\n}\ndiv /deep/code {\n  padding: 1px 5px;\n  border-radius: 3px;\n  vertical-align: middle;\n  border: 1px solid rgba(0, 0, 0, 0.08);\n}\ndiv /deep/pre {\n  line-height: 1.418em;\n  display: flex;\n  border-radius: 5px;\n  border: 1px solid #e9eaec;\n  word-break: break-all;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  overflow: hidden;\n  position: relative;\n}\ndiv /deep/code,\nkbd,\npre,\nsamp {\n  font-family: Microsoft YaHei Mono, Menlo, Monaco, Consolas, Courier New,\n    monospace;\n}\ndiv /deep/.tb-code-line-number-bg {\n  background-color: #f9f9f9;\n  border-right: 1px solid #ddd;\n  width: 3em;\n}\ndiv /deep/.tb-code-content {\n  flex: 1;\n  padding: 15px 15px 15px 0.5em;\n  counter-reset: codeNum;\n}\ndiv /deep/.tb-code-line {\n  position: relative;\n}\ndiv /deep/.tb-code-line::before {\n  counter-increment: codeNum;\n  content: counter(codeNum);\n  position: absolute;\n  left: -3.5em;\n  top: 0;\n  width: 2em;\n  text-align: right;\n  padding: 0 0.5em;\n  overflow: hidden;\n  white-space: nowrap;\n  color: #aeaeae;\n}\ndiv /deep/.tb-pre-lang {\n  position: absolute;\n  right: 0;\n  top: 0;\n  opacity: 0.5;\n  pointer-events: none;\n  font-size: 13px;\n  padding: 4px 10px;\n}\ndiv /deep/.tb-hl-keyword {\n  font-weight: bold;\n}\ndiv /deep/.tb-hl-string {\n  color: rgb(221, 17, 68);\n}\ndiv /deep/.tb-hl-function {\n  color: rgb(0, 134, 179);\n}\ndiv /deep/.tb-hl-number {\n  color: #388138;\n}\ndiv /deep/.tb-hl-tag {\n  color: rgb(0, 0, 128);\n}\ndiv /deep/.tb-hl-comment {\n  color: rgb(153, 153, 136);\n  font-style: italic;\n}\ndiv /deep/.tb-hl-boolean {\n  color: #388138;\n  font-weight: bold;\n}\ndiv /deep/.tb-hl-builtin {\n  color: rgb(0, 134, 179);\n}\ndiv /deep/.tb-hl-regex {\n  color: #f60;\n}\ndiv /deep/.tb-hl-attr-name {\n  color: rgb(0, 134, 179);\n}\ndiv /deep/.tb-hl-attr-value {\n  color: rgb(221, 17, 68);\n}\ndiv /deep/.tb-hl-class-name {\n  color: rgb(0, 134, 179);\n  font-weight: bold;\n}\ndiv /deep/.tb-hl-selector {\n  color: rgb(0, 134, 179);\n  font-weight: bold;\n}\npre[theme=\"dark\"] {\n  color: #a9aeb2;\n  background-color: #1c2838;\n  border-color: #353535;\n}\npre[theme=\"dark\"] div /deep/.tb-hl-keyword {\n  color: rgb(0, 134, 179);\n}\npre[theme=\"dark\"] div /deep/.tb-hl-tag {\n  color: rgb(0, 134, 179);\n}\npre[theme=\"dark\"] div /deep/.tb-hl-comment {\n  color: #4c5156;\n}\npre[theme=\"dark\"] div /deep/.tb-hl-string {\n  color: #ce5a70;\n}\npre[theme=\"dark\"] div /deep/.tb-hl-attr-value {\n  color: #ce5a70;\n}\npre[theme=\"dark\"] div /deep/.tb-hl-regex {\n  color: #af741d;\n}\npre[theme=\"dark\"] div /deep/.tb-hl-selector {\n  color: #ce5a70;\n  font-weight: normal;\n}\npre[theme=\"dark\"] div /deep/.tb-code-line::before {\n  color: #536171;\n}\npre[theme=\"dark\"] div /deep/.tb-code-line-number-bg {\n  background-color: #2d3a48;\n  border-right-color: #292929;\n}\n</style>"],"sourceRoot":""}]}